{"version":3,"sources":["Store.js","localStorage.js","Reducer.js","Actions.js","components/AppLayout.js","pages/Splash.js","components/FieldSelector.js","components/AgriBotInsightsDashboard.js","components/Card.js","components/SatelliteInsightsDashboard.js","pages/Dashboard.js","pages/Chat.js","pages/FAQ.js","pages/Recovery.js","pages/Configure.js","components/Content.js","App.js","serviceWorker.js","index.js"],"names":["enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","persistedState","serializedState","localStorage","getItem","JSON","parse","err","loadState","store","createStore","state","action","type","busy","location","payload","console","log","user","setItem","href","fields","crops","concat","filter","field","fieldResId","crop","cropId","fieldData","serverURL","agroAPIURL","setBusy","a","resp","getLocation","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","loginUser","email","password","variables","fetch","method","headers","body","stringify","query","then","data","json","login","catch","logoutUser","getFields","getCrops","newCrop","owner","name","cropResId","createCrop","newField","addFieldToAgro","id","geo_json","features","properties","createField","deleteField","deleteFieldFromAgro","removeField","deleteCrop","removeCrop","getFieldDetails","details","Promise","all","getWeatherDataFromAgro","weatherData","catchError","getForecastWeatherDataFromAgro","forecastWeatherData","getSoilDataFromAgro","soilData","getUVIDataFromAgro","uviData","getSatelliteImageryFromAgro","satelliteImageryData","idFromResId","resolve","reject","ok","statusText","response","getNDVIStatsFromAgro","length","stats","ndvi","ndviStats","getEVIStatsFromAgro","evi2","eviStats","url","replace","fieldId","resId","seperator","lastIndexOf","substring","AppLayout","sideNav","profileModalShow","loginModalShow","_handleLogout","setState","props","logout","_handleLoginSubmit","_handleEmailChange","evt","target","value","_handlePasswordChange","className","aria-label","onClick","isActive","this","prefix","Modal","open","primaryButtonText","secondaryButtonText","onRequestClose","onRequestSubmit","onSecondarySubmit","style","textAlign","alt","src","photo","width","height","TextInput","disabled","labelText","light","placeholder","onChange","to","SideNavProps","isRail","defaultExpanded","expanded","renderIcon","Home20","Forum20","Data_220","Dashboard20","Help20","children","React","Component","connect","dispatch","Splash","Button","Information20","maxWidth","FieldSelector","datetime","datetimeupdater","UNSAFE_componentWillMount","updater","setInterval","Date","toLocaleString","clearInterval","Row","Column","kind","size","Select","selectedField","onFieldChange","inline","map","SelectItem","key","text","AgriBotInsightsDashboard","_onFieldChange","e","Card","Tile","heading","icon","subtitle","SatelliteInsightsDashboard","forecastWeatherSlider","_onForecastWeatherSliderChange","backgroundColor","weather","dt","main","temp","feels_like","temp_min","temp_max","pressure","humidity","sea_level","grnd_level","wind","speed","deg","clouds","Loading","small","image","dc","cl","mean","toPrecision","cx","cy","r","t0","t10","moisture","uvi","Slider","inputType","max","min","step","withOverlay","Dashboard","selectedTab","_setEnvironment","_handleContentChange","index","Grid","ContentSwitcher","selectedIndex","Switch","Chat","FAQ","Recovery","cropsDetails","require","TableContainer","DataTable","Table","TableHead","TableRow","TableBody","TableCell","TableHeader","Configure","selectedCrop","fieldGeoJSON","fieldName","Math","random","toString","retrieveLocation","retrieveCrops","retrieveFields","_handleChangeCropSelection","_handleAddCrop","addCrop","_handleAddField","addField","provider","osm","x","y","z","s","String","fromCharCode","wikimedia","dpr","stamen","_handleMapBoundChange","ne","bounds","sw","nw","se","format","sm","lg","center","animate","zoom","onBoundsChanged","Add20","title","pt1","geometry","coordinates","pt2","tabIndex","hasonlyicon","TrashCan20","iconDescription","colSpan","Form","helperText","defaultValue","Content","App","active","description","exact","path","render","Boolean","hostname","match","subscribe","saveState","getState","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.63338f86.chunk.js","sourcesContent":["import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { reducer } from './Reducer';\r\nimport { loadState } from './localStorage';\r\n\r\nconst composeEnhancers = typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;\r\nconst enhancer = composeEnhancers(\r\n  applyMiddleware(thunk),\r\n);\r\nconst persistedState = loadState() || {};\r\nconst store = createStore(reducer, persistedState, enhancer);\r\n\r\nexport default store;","export const loadState = () => {\r\n    try{\r\n        const serializedState = localStorage.getItem('projectkisaanstate');\r\n        if(serializedState === null){\r\n            return undefined;\r\n        }\r\n        return JSON.parse(serializedState);\r\n    } catch(err){\r\n        return undefined;\r\n    }\r\n}\r\n\r\nexport const saveState = (state) => {\r\n    try{\r\n        const serializedState = JSON.stringify(state);\r\n        localStorage.setItem('projectkisaanstate', serializedState);\r\n    } catch(err){\r\n        console.log(err);\r\n    }\r\n}","export const reducer = (state, action) => {\r\n    switch(action.type) {\r\n        case \"APP_BUSY\": {\r\n            return {\r\n                ...state,\r\n                busy: true\r\n            }\r\n        }\r\n        case \"LOCATION_RETRIEVED\": {\r\n            return {\r\n                ...state,\r\n                location: action.payload,\r\n                busy: false\r\n            }\r\n        }\r\n        case \"LOCATION_NOT_RETRIEVED\": {\r\n            console.log('Error while retrieving GeoLocation.');\r\n            return {\r\n                ...state,\r\n                busy: false\r\n            }\r\n        }\r\n        case \"LOGIN_FAILED\": {\r\n            console.log('No such user found. Check your email and password again.');\r\n            return {\r\n                ...state,\r\n                busy: false,\r\n                user: \"\"\r\n            };\r\n        }\r\n        case \"LOGIN_SUCCESS\": {\r\n            return {\r\n                ...state,\r\n                busy: false,\r\n                user: action.payload\r\n            }\r\n        }\r\n        case \"LOGOUT\": {\r\n            localStorage.setItem('projectkisaanstate', '');\r\n            window.location.href=\"#home\";\r\n            return {\r\n                ...state,\r\n                busy: false,\r\n                user: \"\"\r\n            };\r\n        }\r\n        case \"FIELDS_RETRIEVAL_SUCCESS\": {\r\n            return {\r\n                ...state,\r\n                busy: false,\r\n                fields: action.payload\r\n            }\r\n        }\r\n        case \"FIELDS_RETRIEVAL_FAILED\": {\r\n            return {\r\n                ...state,\r\n                busy: false\r\n            };\r\n        }\r\n        case \"CROPS_RETRIEVAL_SUCCESS\": {\r\n            return {\r\n                ...state,\r\n                busy: false,\r\n                crops: action.payload\r\n            }\r\n        }\r\n        case \"CROPS_RETRIEVAL_FAILED\": {\r\n            return {\r\n                ...state,\r\n                busy: false\r\n            };\r\n        }\r\n        case \"FIELD_ADD_SUCCESS\": {\r\n            let fields = state.fields.concat(action.payload);\r\n            return {\r\n                ...state,\r\n                busy: false,\r\n                fields\r\n            }\r\n        }\r\n        case \"FIELD_ADD_FAILED\": {\r\n            return {\r\n                ...state,\r\n                busy: false\r\n            };\r\n        }\r\n        case \"CROP_ADD_SUCCESS\": {\r\n            let crops = state.crops.concat(action.payload);\r\n            return {\r\n                ...state,\r\n                busy: false,\r\n                crops\r\n            }\r\n        }\r\n        case \"CROP_ADD_FAILED\": {\r\n            return {\r\n                ...state,\r\n                busy: false\r\n            };\r\n        }\r\n        case \"FIELD_REMOVAL_SUCCESS\": {\r\n            let fields = state.fields.filter(field => {\r\n                return field.fieldResId!==action.payload\r\n            });\r\n            return {\r\n                ...state,\r\n                busy: false,\r\n                fields\r\n            }\r\n        }\r\n        case \"FIELD_REMOVAL_FAILED\": {\r\n            return {\r\n                ...state,\r\n                busy: false\r\n            };\r\n        }\r\n        case \"CROP_REMOVAL_SUCCESS\": {\r\n            let crops = state.crops.filter(crop => {\r\n                return crop.cropId!==action.payload\r\n            });\r\n            return {\r\n                ...state,\r\n                busy: false,\r\n                crops\r\n            }\r\n        }\r\n        case \"CROP_REMOVAL_FAILED\": {\r\n            return {\r\n                ...state,\r\n                busy: false\r\n            };\r\n        }\r\n        case \"FIELD_DETAILS_RETRIEVAL_SUCCESS\": {\r\n            return {\r\n                ...state,\r\n                fieldData: action.payload,\r\n                busy: false\r\n            }\r\n        }\r\n        case \"FIELD_DETAILS_RETRIEVAL_FAILED\": {\r\n            return {\r\n                ...state,\r\n                busy: false\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}","const serverURL= \"https://project-kisaan-graphql-server.herokuapp.com/graphql\";\r\nconst agroAPIURL = \"https://api.agromonitoring.com/agro/1.0\";\r\n\r\nexport const setBusy = async() => {\r\n    return resp => {\r\n        resp({\r\n            type: \"APP_BUSY\"\r\n        });\r\n    }\r\n}\r\n\r\nexport const getLocation = async() => {\r\n    return location => {\r\n        if (\"geolocation\" in navigator) {\r\n            navigator.geolocation.getCurrentPosition(position => {\r\n                location({\r\n                    type: \"LOCATION_RETRIEVED\",\r\n                    payload: [position.coords.latitude, position.coords.longitude]\r\n                });\r\n            });\r\n        } else {\r\n            console.log(\"GeoLocation not supported\");\r\n            location({\r\n                type: \"LOCATION_NOT_RETRIEVED\"\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const loginUser = async(email, password) => {\r\n    let query = `query login($email: String, $password: String){login(email: $email, password: $password){name photo email}}`;\r\n    let variables = { email, password };\r\n\r\n    return user => {\r\n        fetch(serverURL, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ query, variables })\r\n        }).then(data => {\r\n            return data.json();\r\n        }).then(body => {\r\n            if(body.data.login){\r\n                user({\r\n                    type: \"LOGIN_SUCCESS\",\r\n                    payload: body.data.login\r\n                });\r\n            } else {\r\n                user({\r\n                    type: \"LOGIN_FAILED\"\r\n                });\r\n            }\r\n        }).catch(err => {\r\n            console.log('error while loggin in', err);\r\n            user({\r\n                type: \"LOGIN_FAILED\"\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nexport const logoutUser = async() => {\r\n    return user => {\r\n        user({\r\n            type: \"LOGOUT\",\r\n        })\r\n    }\r\n}\r\n\r\nexport const getFields = async(email) => {\r\n    let query = `query fields($email: String){fields(email: $email){fieldResId data{name geo_json{features{geometry{coordinates}}}}}}`;\r\n    let variables = { email };\r\n    return fields => {\r\n        fetch(serverURL, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ query, variables })\r\n        }).then(data => {\r\n            return data.json();\r\n        }).then(body => {\r\n            if(body.data.fields){\r\n                fields({\r\n                    type: \"FIELDS_RETRIEVAL_SUCCESS\",\r\n                    payload: body.data.fields\r\n                });\r\n            } else {\r\n                fields({\r\n                    type: \"FIELDS_RETRIEVAL_FAILED\"\r\n                });\r\n            }\r\n        }).catch(err => {\r\n            console.log('error while retrieving fields', err);\r\n            fields({\r\n                type: \"FIELDS_RETRIEVAL_FAILED\"\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nexport const getCrops = async(email) => {\r\n    let query = `query crops($email: String){crops(email: $email){cropId name cropResId}}`;\r\n    let variables = { email };\r\n    return crops => {\r\n        fetch(serverURL, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ query, variables })\r\n        }).then(data => {\r\n            return data.json();\r\n        }).then(body => {\r\n            if(body.data.crops){\r\n                crops({\r\n                    type: \"CROPS_RETRIEVAL_SUCCESS\",\r\n                    payload: body.data.crops\r\n                });\r\n            } else {\r\n                crops({\r\n                    type: \"CROPS_RETRIEVAL_FAILED\"\r\n                });\r\n            }\r\n        }).catch(err => {\r\n            console.log('error while retrieving crops', err);\r\n            crops({\r\n                type: \"CROPS_RETRIEVAL_FAILED\"\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nexport const newCrop = async(owner, cropId, name) => {\r\n    let query = `mutation addCrop($owner: String, $cropId: String, $cropResId: String, $name: String){createCrop(owner: $owner, cropId: $cropId, name: $name, cropResId: $cropResId){cropResId cropId}}`;\r\n    let cropResId = `${owner}:crops:${cropId}`;\r\n    let variables = { cropId, name, owner, cropResId};\r\n    return resp => {\r\n        fetch(serverURL, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ query, variables })\r\n        }).then(data => {\r\n            return data.json();\r\n        }).then(body => {\r\n            if(body.data.createCrop.cropId){\r\n                resp({\r\n                    type: \"CROP_ADD_SUCCESS\",\r\n                    payload: {\r\n                        cropId, name\r\n                    }\r\n                });\r\n            } else {\r\n                resp({\r\n                    type: \"CROP_ADD_FAILED\"\r\n                });\r\n            }\r\n        }).catch(err => {\r\n            console.log('error while adding crop', err);\r\n            resp({\r\n                type: \"CROP_ADD_FAILED\"\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nexport const newField = async(owner, data) => {\r\n    return resp => {\r\n        addFieldToAgro(data).then(body => {\r\n            let fieldResId = `${owner}:fields:${body.id}`;\r\n            let query = `mutation addField($owner: String, $data: FieldInputData, $fieldResId: String){createField(owner: $owner, data: $data, fieldResId: $fieldResId){fieldResId data{name geo_json{features{geometry{coordinates}}}}}}`;\r\n            delete data.geo_json.features[0].properties;\r\n            let variables = { fieldResId, owner, data };\r\n            fetch(serverURL, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ query, variables })\r\n            }).then(data => {\r\n                return data.json();\r\n            }).then(body => {\r\n                if(body.data.createField.data){\r\n                    resp({\r\n                        type: \"FIELD_ADD_SUCCESS\",\r\n                        payload: body.data.createField\r\n                    });\r\n                } else {\r\n                    resp({\r\n                        type: \"FIELD_ADD_FAILED\"\r\n                    });\r\n                }\r\n            }).catch(err => {\r\n                console.log('error while adding field to db', err);\r\n                resp({\r\n                    type: \"FIELD_ADD_FAILED\"\r\n                });\r\n            });\r\n        }).catch(err => {\r\n            console.log('error while adding field to api', err);\r\n            resp({\r\n                type: \"FIELD_ADD_FAILED\"\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport const deleteField = async(owner, id) => {\r\n    return resp => {\r\n        deleteFieldFromAgro(id).then(() => {\r\n            let query = `mutation deleteField($fieldResId: String){removeField(fieldResId: $fieldResId)}`;\r\n            let fieldResId = `${owner}:fields:${id}`;\r\n            let variables = { fieldResId };\r\n            fetch(serverURL, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ query, variables })\r\n            }).then(data => {\r\n                return data.json();\r\n            }).then(body => {\r\n                if(body.data.removeField){\r\n                    resp({\r\n                        type: \"FIELD_REMOVAL_SUCCESS\",\r\n                        payload: fieldResId\r\n                    });\r\n                } else {\r\n                    resp({\r\n                        type: \"FIELD_REMOVAL_FAILED\"\r\n                    });\r\n                }\r\n            }).catch(err => {\r\n                console.log('error while deleting field', err);\r\n            });\r\n        }).catch(err => {\r\n            console.log('error while deleting field from api', err);\r\n        })\r\n    }\r\n}\r\n\r\nexport const deleteCrop = async(owner, cropId) => {\r\n    let query = `mutation deleteCrop($cropResId: String){removeCrop(cropResId: $cropResId)}`;\r\n    let cropResId = `${owner}:crops:${cropId}`;\r\n    let variables = { cropResId };\r\n    return resp => {\r\n        fetch(serverURL, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ query, variables })\r\n        }).then(data => {\r\n            return data.json();\r\n        }).then(body => {\r\n            if(body.data.removeCrop){\r\n                resp({\r\n                    type: \"CROP_REMOVAL_SUCCESS\",\r\n                    payload: cropId\r\n                });\r\n            } else {\r\n                resp({\r\n                    type: \"CROP_REMOVAL_FAILED\"\r\n                });\r\n            }\r\n        }).catch(err => {\r\n            console.log('error while deleting crop', err);\r\n        });\r\n    }\r\n}\r\n\r\nexport const getFieldDetails = async(fieldResId) => {\r\n    return details => {\r\n        let data = {}\r\n        Promise.all(\r\n            [\r\n                getWeatherDataFromAgro(fieldResId).then(body => {data.weatherData = body}).catch(catchError),\r\n                getForecastWeatherDataFromAgro(fieldResId).then(body => {data.forecastWeatherData = body}).catch(catchError),\r\n                getSoilDataFromAgro(fieldResId).then(body => {data.soilData = body}).catch(catchError),\r\n                getUVIDataFromAgro(fieldResId).then(body => {data.uviData = body}).catch(catchError),\r\n                getSatelliteImageryFromAgro(fieldResId).then(body => {data.satelliteImageryData = body}).catch(catchError)\r\n            ]\r\n        ).then(() => {\r\n            return details({\r\n                type: \"FIELD_DETAILS_RETRIEVAL_SUCCESS\",\r\n                payload: data\r\n            });\r\n        }).catch(catchError);\r\n    }\r\n}\r\n\r\nconst catchError = (err) => {\r\n    console.log('error occurred while retrieving field data from agro', err);\r\n    return {\r\n        type: \"FIELD_DETAILS_RETRIEVAL_FAILED\"\r\n    };\r\n}\r\n\r\nconst getWeatherDataFromAgro = (fieldResId) => {\r\n    let id = idFromResId(fieldResId);\r\n    return new Promise((resolve, reject) => {\r\n        fetch(`${agroAPIURL}/weather?polyid=${id}&appid=83e9d92cb19c29c0045da2e0282321f5&units=metric`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(async data => {\r\n            if(data.ok){\r\n                return data.json();\r\n            } else {\r\n                console.log('error while retreiving weather data from agro', data.statusText);\r\n                reject(data.statusText);\r\n            }\r\n        }).then(body => {\r\n            resolve(body);\r\n        });\r\n    })\r\n}\r\n\r\nconst getForecastWeatherDataFromAgro = (fieldResId) => {\r\n    let id = idFromResId(fieldResId);\r\n    return new Promise((resolve, reject) => {\r\n        fetch(`${agroAPIURL}/weather/forecast?polyid=${id}&appid=83e9d92cb19c29c0045da2e0282321f5&units=metric`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(async data => {\r\n            if(data.ok){\r\n                return data.json();\r\n            } else {\r\n                console.log('error while retreiving forecast weather data from agro', data.statusText);\r\n                reject(data.statusText);\r\n            }\r\n        }).then(body => {\r\n            resolve(body);\r\n        });\r\n    });\r\n}\r\n\r\nconst getSoilDataFromAgro = (fieldResId) => {\r\n    let id = idFromResId(fieldResId);\r\n    return new Promise((resolve, reject) => {\r\n        fetch(`${agroAPIURL}/soil?polyid=${id}&appid=83e9d92cb19c29c0045da2e0282321f5&units=metric`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(async data => {\r\n            if(data.ok){\r\n                return data.json();\r\n            } else {\r\n                console.log('error while retreiving soil data from agro', data.statusText);\r\n                reject(data.statusText);\r\n            }\r\n        }).then(body => {\r\n            resolve(body);\r\n        });\r\n    });\r\n}\r\n\r\nconst getUVIDataFromAgro = (fieldResId) => {\r\n    let id = idFromResId(fieldResId);\r\n    return new Promise((resolve, reject) => {\r\n        fetch(`${agroAPIURL}/uvi?polyid=${id}&appid=83e9d92cb19c29c0045da2e0282321f5&units=metric`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(async data => {\r\n            if(data.ok){\r\n                return data.json();\r\n            } else {\r\n                console.log('error while retreiving uvi data from agro', data.statusText);\r\n                reject(data.statusText);\r\n            }\r\n        }).then(body => {\r\n            resolve(body);\r\n        });\r\n    });\r\n}\r\n\r\nconst getSatelliteImageryFromAgro = (fieldResId) => {\r\n    let id = idFromResId(fieldResId);\r\n    return new Promise((resolve, reject) => {\r\n        fetch(`${agroAPIURL}/image/search?start=0&end=1&polyid=${id}&appid=83e9d92cb19c29c0045da2e0282321f5&units=metric`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(async data => {\r\n            if(data.ok){\r\n                return data.json();\r\n            } else {\r\n                console.log('error while retreiving satellite imagery from agro', data.statusText);\r\n                reject(data.statusText);\r\n            }\r\n        }).then(body => {\r\n            let response = {body};\r\n            Promise.all([\r\n                getNDVIStatsFromAgro(body[body.length-1].stats.ndvi).then(ndviStats => {response.ndviStats = ndviStats}).catch(catchError),\r\n                getEVIStatsFromAgro(body[body.length-1].stats.evi2).then(eviStats => {response.eviStats = eviStats}).catch(catchError)\r\n            ]).then(() => {\r\n                resolve(response);\r\n            }).catch(catchError);\r\n        });\r\n    });\r\n}\r\n\r\nconst getNDVIStatsFromAgro = (url) => {\r\n    return new Promise((resolve, reject) => {\r\n        fetch(`${url.replace(\"http://\", \"https://\")}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(async data => {\r\n            if(data.ok){\r\n                return data.json();\r\n            } else {\r\n                console.log('error while retreiving ndvi stats from agro', data.statusText);\r\n                reject(data.statusText);\r\n            }\r\n        }).then(body => {\r\n            resolve(body);\r\n        });\r\n    });\r\n}\r\n\r\nconst getEVIStatsFromAgro = (url) => {\r\n    return new Promise((resolve, reject) => {\r\n        fetch(`${url.replace(\"http://\", \"https://\")}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(async data => {\r\n            if(data.ok){\r\n                return data.json();\r\n            } else {\r\n                console.log('error while retreiving evi stats from agro', data.statusText);\r\n                reject(data.statusText);\r\n            }\r\n        }).then(body => {\r\n            resolve(body);\r\n        });\r\n    });\r\n}\r\n\r\nconst addFieldToAgro = (fieldData) => {\r\n    return new Promise((resolve, reject) => {\r\n        fetch(`${agroAPIURL}/polygons?appid=83e9d92cb19c29c0045da2e0282321f5`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(fieldData)\r\n        }).then(async data => {\r\n            if(data.ok){\r\n                return data.json()\r\n            } else {\r\n                console.log('error while adding field to agro', data.statusText);\r\n                reject(data.statusText);\r\n            }\r\n        }).then(body => {\r\n            resolve(body);\r\n        })\r\n    })\r\n}\r\n\r\nconst deleteFieldFromAgro = (fieldId) => {\r\n    return new Promise((resolve, reject) => {\r\n        fetch(`${agroAPIURL}/polygons/${fieldId}?appid=83e9d92cb19c29c0045da2e0282321f5`, {\r\n            method: 'DELETE'\r\n        }).then(data => {\r\n            if(data.ok){\r\n                resolve()\r\n            } else {\r\n                console.log('error while deleting field from agro', data.statusText);\r\n                reject(data.statusText);\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nconst idFromResId = (resId) => {\r\n    let seperator = resId.lastIndexOf(\":\");\r\n    let id = resId.substring(seperator+1);\r\n    return id;\r\n}","import React from 'react';\r\nimport {\r\n  Link,\r\n  HashRouter\r\n} from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport { logoutUser, setBusy, loginUser } from '../Actions';\r\nimport Forum20 from '@carbon/icons-react/lib/forum/20';\r\nimport Home20 from '@carbon/icons-react/lib/home/20';\r\nimport Dashboard20 from \"@carbon/icons-react/lib/dashboard/20\";\r\nimport Data_220 from \"@carbon/icons-react/lib/data--2/20\";\r\nimport Help20 from \"@carbon/icons-react/lib/help/20\";\r\nimport User20 from \"@carbon/icons-react/lib/user/20\";\r\nimport Notification20 from \"@carbon/icons-react/lib/notification/20\";\r\nimport Settings20 from \"@carbon/icons-react/lib/settings/20\";\r\nimport {\r\n  Header,\r\n  HeaderMenuButton,  \r\n  HeaderName,\r\n  HeaderGlobalBar,\r\n  HeaderGlobalAction,\r\n  SideNav,\r\n  SideNavItems,\r\n  SideNavLink,\r\n  Content,\r\n  SideNavProps\r\n} from \"carbon-components-react/lib/components/UIShell\";\r\nimport { Modal, TextInput } from 'carbon-components-react';\r\n \r\nclass AppLayout extends React.Component {\r\n\r\n  state = {\r\n    sideNav: false,\r\n    profileModalShow: false,\r\n    loginModalShow: false,\r\n    email: \"\",\r\n    password: \"\"\r\n  }\r\n\r\n  _handleLogout = async() => {\r\n    this.setState({profileModalShow: false});\r\n    await this.props.logout();\r\n  }\r\n  _handleLoginSubmit = async() => {\r\n    this.setState({loginModalShow: false});\r\n    await this.props.login(this.state.email, this.state.password);\r\n  }\r\n  _handleEmailChange = (evt) => {\r\n      this.setState({email: evt.target.value});\r\n  }\r\n  _handlePasswordChange = (evt) => {\r\n      this.setState({password: evt.target.value});\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"container\" >\r\n        <HashRouter>\r\n          <Header aria-label=\"IBM Platform Name\">\r\n            <HeaderMenuButton\r\n              aria-label=\"Open menu\"\r\n              onClick={() => this.setState({sideNav: !this.state.sideNav})}\r\n              isActive={this.state.sideNav}\r\n            />\r\n              <HeaderName href=\"#home\" prefix=\"\">\r\n                Project Kisaan\r\n              </HeaderName>\r\n            <HeaderGlobalBar>\r\n              {\r\n                <>\r\n                  <HeaderGlobalAction onClick={() => { this.props.user?this.setState({profileModalShow: true}): this.setState({loginModalShow: true}) }} aria-label=\"User\">\r\n                    <User20 />\r\n                  </HeaderGlobalAction>\r\n                  {this.props.user?\r\n                  <Modal \r\n                    open={this.state.profileModalShow}\r\n                    primaryButtonText=\"Close\"\r\n                    secondaryButtonText=\"Logout\"\r\n                    onRequestClose={() => this.setState({profileModalShow: false})}\r\n                    onRequestSubmit={() => this.setState({profileModalShow: false})}\r\n                    onSecondarySubmit={this._handleLogout}\r\n                  >\r\n                    <div style={{textAlign: 'center'}}>\r\n                      <img alt=\"avatar\" src={this.props.user.photo} style={{width: '80px', height: '80px'}}></img>\r\n                    </div>\r\n                    <TextInput\r\n                      id=\"user-name\"\r\n                      disabled={true}\r\n                      labelText=\"Your Name:\"\r\n                      light={false}\r\n                      value={this.props.user.name}\r\n                      type=\"text\"\r\n                    />\r\n                    <br/>\r\n                    <TextInput\r\n                      id=\"user-email\"\r\n                      disabled={true}\r\n                      labelText=\"Your Email:\"\r\n                      light={false}\r\n                      value={this.props.user.email}\r\n                      type=\"text\"\r\n                    />\r\n                  </Modal>:<></>}\r\n                  <Modal \r\n                      open={this.state.loginModalShow}\r\n                      primaryButtonText=\"Login\"\r\n                      secondaryButtonText=\"Close\"\r\n                      onRequestClose={() => this.setState({loginModalShow: false})}\r\n                      onRequestSubmit={this._handleLoginSubmit}\r\n                      onSecondarySubmit={() => this.setState({loginModalShow: false})}\r\n                      disabled={true}\r\n                  >\r\n                      <TextInput\r\n                          id=\"email-input\"\r\n                          disabled={false}\r\n                          labelText=\"Your Email:\"\r\n                          light={false}\r\n                          placeholder=\"mark@gmail.com\"\r\n                          value={this.state.email}\r\n                          type=\"text\"\r\n                          onChange={this._handleEmailChange}\r\n                      />\r\n                      <br/>\r\n                      <TextInput\r\n                          id=\"password-input\"\r\n                          disabled={false}\r\n                          labelText=\"Your Email:\"\r\n                          light={false}\r\n                          placeholder=\"**********\"\r\n                          value={this.state.password}\r\n                          type=\"password\"\r\n                          onChange={this._handlePasswordChange}\r\n                      />\r\n                  </Modal>\r\n                </>\r\n              }\r\n              <Link to=\"/notifications\">\r\n                <HeaderGlobalAction aria-label=\"Global Notifications\">\r\n                  <Notification20 />\r\n                </HeaderGlobalAction>\r\n              </Link>\r\n              <Link to=\"/settings\">\r\n                <HeaderGlobalAction aria-label=\"App Settings\">\r\n                  <Settings20 />\r\n                </HeaderGlobalAction>\r\n              </Link>\r\n            </HeaderGlobalBar>\r\n            <SideNav {...SideNavProps} aria-label=\"Side navigation\" isRail={true} defaultExpanded={false} expanded={this.state.sideNav}>\r\n              <SideNavItems>\r\n                  <Link to=\"/home\">\r\n                    <SideNavLink renderIcon={Home20}>\r\n                      Home\r\n                    </SideNavLink>\r\n                  </Link>\r\n                  {\r\n                    this.props.user?\r\n                    <>\r\n                      <SideNavLink href=\"#chat\" renderIcon={Forum20}>\r\n                        Chat\r\n                      </SideNavLink>\r\n                      <SideNavLink href=\"#configure\" renderIcon={Data_220}>\r\n                        Configure\r\n                      </SideNavLink>\r\n                      <SideNavLink href=\"#dashboard\" renderIcon={Dashboard20}>\r\n                        Dashboard\r\n                      </SideNavLink>\r\n                    </>:\r\n                    <></>\r\n                  }\r\n                  <SideNavLink href=\"#faq\" renderIcon={Help20}>\r\n                    Assistance/FAQs\r\n                  </SideNavLink>\r\n              </SideNavItems>\r\n            </SideNav>\r\n          </Header>\r\n        </HashRouter>\r\n        <Content>\r\n          {this.props.children}\r\n        </Content>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    user: state.user,\r\n    busy: state.busy\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n      logout: async() => {\r\n          dispatch(await setBusy());\r\n          dispatch(await logoutUser());\r\n      },\r\n      login: async(email, password) => {\r\n        dispatch(await setBusy());\r\n        dispatch(await loginUser(email, password));\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AppLayout);\r\n","import React from 'react';\r\nimport {\r\n    Button\r\n} from 'carbon-components-react';\r\nimport { Information20 } from '@carbon/icons-react';\r\nclass Splash extends React.Component {\r\n    render(){\r\n        return(\r\n            <div style={{textAlign: 'center'}}>\r\n                <div>\r\n                    <img alt=\"splash\" src=\"https://image.winudf.com/v2/image/Y29tLmphaWtpc2Fhbl9pY29uXzE1MDk0NjYxNTVfMDUy/icon.png?w=170&fakeurl=1\"></img>\r\n                </div>\r\n                <br/>\r\n                <p>\r\n                    The project focuses on building a centralized automatic device which will be a great asset for farmers to make them able to produce as much as they can. It can be done by giving them accurate figures and ideas about what, how, when and where to grow.\r\n                </p>\r\n                <br/>\r\n                {\r\n                    !this.props.user?\r\n                    <>\r\n                        <div className=\"bx--form__helper-text\" style={{maxWidth: '100%'}}>\r\n                            You need to sign in with the credentials provided to you with AgriBot purchase.\r\n                        </div>\r\n                    </>:\r\n                    <>\r\n                        <div>\r\n                            <Button href=\"#faq\" renderIcon={Information20}>More Information</Button>\r\n                        </div>\r\n                        <br/>\r\n                        <div className=\"bx--form__helper-text\" style={{maxWidth: '100%'}}>\r\n                            You're already signed in.\r\n                        </div>\r\n                    </>\r\n                }\r\n            </div>\r\n        )   \r\n    }\r\n}\r\n\r\nexport default Splash;\r\n","import React from 'react';\r\nimport {\r\n    Select,\r\n    SelectItem,\r\n    Row,\r\n    Column,\r\n    Button\r\n} from 'carbon-components-react';\r\nimport { connect } from 'react-redux';\r\n\r\nclass FieldSelector extends React.Component{\r\n    state = {\r\n        datetime: \"\",\r\n        datetimeupdater: \"\"\r\n    }\r\n\r\n    UNSAFE_componentWillMount = async() => {\r\n        let updater = setInterval(() => {\r\n            this.setState({datetime: new Date().toLocaleString()});\r\n        }, 100);\r\n        this.setState({datetimeupdater: updater});\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        clearInterval(this.state.datetimeupdater);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <Row>\r\n                <Column>\r\n                    <Button disabled kind=\"ghost\" size=\"field\">{this.state.datetime}</Button>\r\n                </Column>\r\n                <Column>\r\n                    <Select value={this.props.selectedField} onChange={this.props.onFieldChange} width={'xl'} id=\"agriBotDashboardfieldSelector\" inline labelText=\"Select one field to get cards on dashboard\">\r\n                        {\r\n                            this.props.fields?this.props.fields.map(field => {\r\n                                let seperator = field.fieldResId.lastIndexOf(\":\");\r\n                                let id = field.fieldResId.substring(seperator+1);\r\n                                return(\r\n                                    <SelectItem key={field.fieldResId} text={id} value={field.fieldResId} />\r\n                                )\r\n                            }):<></>\r\n                        }\r\n                    </Select>\r\n                </Column>\r\n            </Row>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        fields: state.fields\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FieldSelector);\r\n","import React from 'react';\r\nimport FieldSelector from './FieldSelector';\r\nimport { connect } from 'react-redux';\r\n\r\nclass AgriBotInsightsDashboard extends React.Component {\r\n    state = {\r\n        selectedField: this.props.fields[0].fieldResId\r\n    }\r\n\r\n    _onFieldChange = (e) => {\r\n        this.setState({selectedField: e.target.value});\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n                <FieldSelector selectedField={this.state.selectedField} onFieldChange={this._onFieldChange}/>\r\n                <br/>\r\n                Coming soon...\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        fields: state.fields,\r\n        busy: state.busy,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AgriBotInsightsDashboard);\r\n","import React from 'react';\r\nimport {\r\n    Tile\r\n} from 'carbon-components-react';\r\n\r\nexport default class Card extends React.Component {\r\n    render(){\r\n        return(\r\n            <Tile className=\"card\">\r\n                <Tile light className=\"card-header\">\r\n                    <div>\r\n                        <h3 className=\"inline\">\r\n                            { this.props.heading }\r\n                        </h3>\r\n                        <span className=\"inline card-icon\">\r\n                            { this.props.icon }\r\n                        </span>\r\n                    </div>\r\n                    <div className=\" inline bx--form__helper-text\">{ this.props.subtitle }</div>\r\n                </Tile>\r\n                <Tile light className=\"card-body\">\r\n                    { this.props.children }\r\n                </Tile>\r\n            </Tile>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport FieldSelector from './FieldSelector';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    Row, \r\n    Column,\r\n    Content,\r\n    Slider,\r\n    Loading\r\n} from 'carbon-components-react';\r\nimport Card from './Card';\r\nimport { \r\n    setBusy,\r\n    getFieldDetails\r\n} from '../Actions';\r\nimport {\r\n    Strawberry32,\r\n    Light32,\r\n    WatsonHealthDna32\r\n} from \"@carbon/icons-react\";\r\n\r\nclass SatelliteInsightsDashboard extends React.Component {\r\n    state = {\r\n        selectedField: this.props.fields?this.props.fields[0].fieldResId:\"\",\r\n        forecastWeatherSlider: 1\r\n    }\r\n\r\n    UNSAFE_componentWillMount  = async() => {\r\n        await this.props.getFieldDetails(this.state.selectedField);\r\n    }\r\n\r\n    _onFieldChange = async(e) => {\r\n        this.setState({selectedField: e.target.value}, async() => {\r\n            await this.props.getFieldDetails(this.state.selectedField);\r\n        });\r\n    }\r\n\r\n    _onForecastWeatherSliderChange = (e) => {\r\n        this.setState({forecastWeatherSlider: e.value});\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n                <FieldSelector selectedField={this.state.selectedField} onFieldChange={this._onFieldChange}/>\r\n                <br/>\r\n                {this.props.fieldData?\r\n                <Content style={{backgroundColor: '#f4f4f4'}}>\r\n                    <Row>\r\n                        <Column>\r\n                            {this.props.fieldData.weatherData?\r\n                            <Card heading=\"Current Weather\" icon={<img src={`https://openweathermap.org/img/w/${this.props.fieldData.weatherData.weather[0].icon}.png`} alt={this.props.fieldData.weatherData.weather.icon} />} subtitle={new Date(this.props.fieldData.weatherData.dt*1000).toLocaleString()}>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Temperature</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.weatherData.main.temp}&deg;C</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Feels like</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.weatherData.main.feels_like}&deg;C</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Temp Min</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.weatherData.main.temp_min}&deg;C</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Temp Max</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.weatherData.main.temp_max}&deg;C</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Atmospheric Pressure</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.weatherData.main.pressure} hPa</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Humidity</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.weatherData.main.humidity}%</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Atmospheric Pressure @ Sea Level</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.weatherData.main.sea_level} hPa</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Atmospheric Pressure @ Ground Level</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.weatherData.main.grnd_level} hPa</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Wind Speed</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.weatherData.wind.speed} m/s</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Wind Direction</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.weatherData.wind.deg}&deg;</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Cloudiness</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.weatherData.clouds.all}%</span>\r\n                                </div>\r\n                            </Card>:<Loading small={true}></Loading>}\r\n                        </Column>\r\n                        <Column>\r\n                            {this.props.fieldData.satelliteImageryData?\r\n                            <Card heading=\"Crop Health\" icon={<WatsonHealthDna32 />} subtitle={`${new Date(this.props.fieldData.satelliteImageryData.body[this.props.fieldData.satelliteImageryData.body.length-1].dt*1000).toLocaleString()} by ${this.props.fieldData.satelliteImageryData.body[this.props.fieldData.satelliteImageryData.body.length-1].type}`}>\r\n                                <div className=\"card-body\">\r\n                                    <img width=\"100%\" src={this.props.fieldData.satelliteImageryData.body[this.props.fieldData.satelliteImageryData.body.length-1].image.ndvi} alt=\"satellite imagery\"/>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Valid Data</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.satelliteImageryData.body[this.props.fieldData.satelliteImageryData.body.length-1].dc}%</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Cloudiness</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.satelliteImageryData.body[this.props.fieldData.satelliteImageryData.body.length-1].cl}%</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">NDVI</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.satelliteImageryData.ndviStats.mean.toPrecision(2)}&nbsp;&nbsp;<svg height=\"10\" width=\"10\"><circle cx=\"50%\" cy=\"50%\" r=\"5\" className={`anti-gradient_${this.props.fieldData.satelliteImageryData.ndviStats.mean.toPrecision(1)*10}`} /></svg></span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">EVI</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.satelliteImageryData.eviStats.mean.toPrecision(2)}&nbsp;&nbsp;<svg height=\"10\" width=\"10\"><circle cx=\"50%\" cy=\"50%\" r=\"5\" className={`anti-gradient_${this.props.fieldData.satelliteImageryData.eviStats.mean.toPrecision(1)*10}`} /></svg></span>\r\n                                </div>\r\n                                <div className=\"bx--form__helper-text\" style={{maxWidth: '100%'}}>\r\n                                    This card may take a bit to update, please be patient.\r\n                                </div>\r\n                            </Card>:<></>}\r\n                        </Column>\r\n                    </Row>\r\n                    <br />\r\n                    <Row>\r\n                        <Column>\r\n                            {this.props.fieldData.soilData?\r\n                            <Card heading=\"Soil Data\" icon={<Strawberry32 />} subtitle={new Date(this.props.fieldData.soilData.dt*1000).toLocaleString()}>\r\n                            <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Surface Temp</strong>\r\n                                    <span className=\"card-body-value\">{(this.props.fieldData.soilData.t0-273.15).toPrecision(4)}&deg;C</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Temp in 10cm depth</strong>\r\n                                    <span className=\"card-body-value\">{(this.props.fieldData.soilData.t10-273.15).toPrecision(4)}&deg;C</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Moisture</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.soilData.moisture} m<sup>3</sup>/m<sup>3</sup></span>\r\n                                </div>\r\n                            </Card>:<></>}\r\n                        </Column>\r\n                        <Column>\r\n                            {this.props.fieldData.uviData?\r\n                            <Card heading=\"UVI Data\" icon={<Light32 />} subtitle={new Date(this.props.fieldData.uviData.dt*1000).toLocaleString()}>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">UV Index</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.uviData.uvi}</span>\r\n                                </div>\r\n                            </Card>:<></>}\r\n                        </Column>\r\n                    </Row>\r\n                    <br />\r\n                    <Row>\r\n                        <Column>\r\n                            {this.props.fieldData.forecastWeatherData?\r\n                            <Card heading=\"Weather Forecast\" icon={<img src={`https://openweathermap.org/img/w/${this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].weather[0].icon}.png`} alt={this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].icon} />} subtitle={new Date(this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].dt*1000).toLocaleString()}>\r\n                                <div className=\"card-body\">\r\n                                    <Slider id=\"slider\" inputType=\"number\" labelText=\"Slide for changing data\" max={40} min={1} step={1} onChange={this._onForecastWeatherSliderChange} value={this.state.forecastWeatherSlider} />\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Temperature</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].main.temp}&deg;C</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Feels like</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].main.feels_like}&deg;C</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Temp Min</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].main.temp_min}&deg;C</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Temp Max</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].main.temp_max}&deg;C</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Atmospheric Pressure</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].main.pressure} hPa</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Humidity</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].main.humidity}%</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Atmospheric Pressure @ Sea Level</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].main.sea_level} hPa</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Atmospheric Pressure @ Ground Level</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].main.grnd_level} hPa</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Wind Speed</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].wind.speed} m/s</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Wind Direction</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].wind.deg}&deg;</span>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong className=\"card-body-head\">Cloudiness</strong>\r\n                                    <span className=\"card-body-value\">{this.props.fieldData.forecastWeatherData[this.state.forecastWeatherSlider-1].clouds.all}%</span>\r\n                                </div>\r\n                            </Card>:<></>}\r\n                        </Column>\r\n                    </Row>\r\n                </Content>:<Loading withOverlay={true} small={false}></Loading>}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        user: state.user,\r\n        fields: state.fields,\r\n        busy: state.busy,\r\n        fieldData: state.fieldData\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getFieldDetails: async(fieldResId) => {\r\n            dispatch(await setBusy());\r\n            dispatch(await getFieldDetails(fieldResId));\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SatelliteInsightsDashboard);\r\n","import React from 'react';\r\nimport {\r\n    Row, \r\n    ContentSwitcher,\r\n    Switch,\r\n    Grid\r\n} from 'carbon-components-react';\r\nimport { setBusy, getFields } from '../Actions';\r\nimport { connect } from 'react-redux';\r\nimport AgriBotInsightsDashboard from '../components/AgriBotInsightsDashboard';\r\nimport SatelliteInsightsDashboard from '../components/SatelliteInsightsDashboard';\r\n\r\nclass Dashboard extends React.Component {\r\n    state = {\r\n        selectedField: '',\r\n        selectedTab: 0\r\n    }\r\n\r\n    componentWillMount(){\r\n        this._setEnvironment();\r\n    }\r\n\r\n    _setEnvironment = async() => {\r\n        if(this.props.user){\r\n            await this.props.getFields(this.props.user.email);\r\n        }\r\n    }\r\n\r\n    _handleContentChange = (e) => {\r\n        this.setState({selectedTab: e.index})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n                {\r\n                    !this.props.user?<div>You're not logged in</div>:\r\n                    <Grid>\r\n                        <Row>\r\n                            <ContentSwitcher selectedIndex={0} onChange={this._handleContentChange}>\r\n                                <Switch name=\"satelliteInsights\" text=\"&nbsp;Satellite\" />\r\n                                <Switch name=\"agriBotInsights\" text=\"&nbsp;AgriBot\"/>\r\n                            </ContentSwitcher>\r\n                        </Row>\r\n                        <Grid>\r\n                            {\r\n                                this.state.selectedTab===0?\r\n                                <SatelliteInsightsDashboard />:\r\n                                <AgriBotInsightsDashboard />\r\n                            }\r\n                        </Grid>\r\n                    </Grid>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        user: state.user,\r\n        fields: state.fields,\r\n        busy: state.busy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getFields: async(email) => {\r\n            dispatch(await setBusy());\r\n            dispatch(await getFields(email));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default connect (mapStateToProps, mapDispatchToProps) (Dashboard);","import React from 'react';\r\n\r\nexport default class Chat extends React.Component {\r\n    render(){\r\n        return(\r\n            <div>Chat</div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class FAQ extends React.Component {\r\n    render(){\r\n        return(\r\n            <div>FAQ</div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class Recovery extends React.Component {\r\n    render(){\r\n        return(\r\n            <div>Recovery</div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    Grid,\r\n    Row,\r\n    Column,\r\n    DataTable,\r\n    Button,\r\n    Select,\r\n    SelectItem,\r\n    Form\r\n} from 'carbon-components-react'; \r\nimport { getLocation, getFields, getCrops, newCrop, newField, deleteField, deleteCrop, setBusy } from '../Actions';\r\nimport { connect } from 'react-redux';\r\nimport Map from 'pigeon-maps';\r\nimport TrashCan20 from \"@carbon/icons-react/lib/trash-can/20\";\r\nimport Add20 from \"@carbon/icons-react/lib/add/20\";\r\nconst cropsDetails = require('../brain.json');\r\nconst {\r\n    TableContainer,\r\n    Table,\r\n    TableHead,\r\n    TableRow,\r\n    TableBody,\r\n    TableCell,\r\n    TableHeader,\r\n} = DataTable; \r\n\r\nclass Configure extends React.Component{\r\n    state = {\r\n        selectedCrop: 'FR01',\r\n        fieldGeoJSON: {},\r\n        fieldName: Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)\r\n    }\r\n\r\n    UNSAFE_componentWillMount = async() => {\r\n        if(this.props.user){\r\n            await this.props.retrieveLocation();\r\n            await this.props.retrieveCrops(this.props.user.email);\r\n            await this.props.retrieveFields(this.props.user.email);\r\n        }\r\n    }\r\n\r\n    _handleChangeCropSelection = (evt) => {\r\n        this.setState({selectedCrop: evt.target.value});\r\n    }\r\n\r\n    _handleAddCrop = async() => {\r\n        if(this.props.user){\r\n            let crop = cropsDetails.filter((crop) => {\r\n                return crop.cropId===this.state.selectedCrop;\r\n            });\r\n            await this.props.addCrop(this.props.user.email, this.state.selectedCrop, crop[0].name);\r\n        }\r\n    }\r\n\r\n    _handleAddField = async() => {\r\n        if(this.props.user){\r\n            await this.props.addField(this.props.user.email, this.state.fieldGeoJSON);\r\n        }\r\n    }\r\n\r\n    deleteField = async(fieldId) => {\r\n        if(this.props.user){\r\n            await this.props.removeField(this.props.user.email, fieldId);\r\n        }\r\n    }\r\n\r\n    deleteCrop = async(cropId) => {\r\n        if(this.props.user){\r\n            await this.props.removeCrop(this.props.user.email, cropId);\r\n        }\r\n    }\r\n\r\n    provider = {\r\n        osm: (x, y, z) => {\r\n            const s = String.fromCharCode(97 + (x + y + z) % 3)\r\n            return `https://${s}.tile.openstreetmap.org/${z}/${x}/${y}.png`\r\n        },\r\n        wikimedia: (x, y, z, dpr) => {\r\n            return `https://maps.wikimedia.org/osm-intl/${z}/${x}/${y}${dpr >= 2 ? '@2x' : ''}.png`\r\n        },\r\n        stamen: (x, y, z, dpr) => {\r\n            return `https://stamen-tiles.a.ssl.fastly.net/terrain/${z}/${x}/${y}${dpr >= 2 ? '@2x' : ''}.jpg`\r\n        }\r\n    }\r\n\r\n    _handleMapBoundChange = (data) => {\r\n        let ne = [data.bounds.ne[1], data.bounds.ne[0]];\r\n        let sw = [data.bounds.sw[1], data.bounds.sw[0]];\r\n        let nw = [sw[0], ne[1]];\r\n        let se = [ne[0], sw[1]];\r\n        let format = {\r\n            \"name\": this.state.fieldName,\r\n            \"geo_json\": {\r\n                \"type\": \"FeatureCollection\",\r\n                \"features\": [\r\n                    {\r\n                        \"type\": \"Feature\",\r\n                        \"properties\": {},\r\n                        \"geometry\": {\r\n                            \"type\": \"Polygon\",\r\n                            \"coordinates\": [\r\n                                [\r\n                                    sw,\r\n                                    se,\r\n                                    ne,\r\n                                    nw,\r\n                                    sw,\r\n                                ]\r\n                            ]\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n        this.setState({fieldGeoJSON: format});\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n                {\r\n                    !this.props.user?\r\n                    <div>You're not logged in</div>:\r\n                    <Grid>\r\n                        <Row>\r\n                            <h2 style={{width: '100%', textAlign: 'center'}}>Fields Section</h2>\r\n                        </Row>\r\n                        <br/>\r\n                        <Row>\r\n                            <Column sm={4} lg={6} style={{textAlign: 'center'}}>\r\n                                <Map center={this.props.location} animate={true} zoom={12} height={300} onBoundsChanged={this._handleMapBoundChange} provider={this.provider['wikimedia']} />\r\n                                <div className=\"bx--form__helper-text\" style={{maxWidth: '100%'}}>\r\n                                    Zoom to your fields (1 Ha to 3000 Ha) and click on button below.\r\n                                </div>\r\n                                <Button renderIcon={Add20} onClick={this._handleAddField}>\r\n                                    Add\r\n                                </Button>\r\n                            </Column>\r\n                            <Column sm={4} lg={6}>\r\n                                <TableContainer title=\"Your Fields\">\r\n                                    <Table>\r\n                                        <TableHead>\r\n                                            <TableRow>\r\n                                                <TableHeader key=\"fieldId\">\r\n                                                    Field Id\r\n                                                </TableHeader>\r\n                                                <TableHeader key=\"fieldLoc\">\r\n                                                    Field Location\r\n                                                </TableHeader>\r\n                                                <TableHeader key=\"delete\">\r\n\r\n                                                </TableHeader>\r\n                                            </TableRow>\r\n                                        </TableHead>\r\n                                        <TableBody>\r\n                                            {\r\n                                                this.props.fields.length?\r\n                                                this.props.fields.map(field => {\r\n                                                    let seperator = field.fieldResId.lastIndexOf(\":\");\r\n                                                    let id = field.fieldResId.substring(seperator+1);\r\n                                                    let pt1 = field.data.geo_json.features[0].geometry.coordinates[0][0];\r\n                                                    let pt2 = field.data.geo_json.features[0].geometry.coordinates[0][2];\r\n                                                    return (\r\n                                                    <TableRow key={field.fieldResId}>\r\n                                                        <TableCell>\r\n                                                            {id}\r\n                                                        </TableCell>\r\n                                                        <TableCell>\r\n                                                            {pt1[0]+\"\\n\"+pt1[1]+\"\\n\"+pt2[0]+\"\\n\"+pt2[1]}\r\n                                                        </TableCell>\r\n                                                        <TableCell>\r\n                                                            <Button \r\n                                                                kind=\"ghost\"\r\n                                                                tabIndex={0}\r\n                                                                hasonlyicon=\"true\"\r\n                                                                renderIcon={TrashCan20}\r\n                                                                iconDescription=\"Delete\"\r\n                                                                onClick={() => {this.deleteField(id)}}\r\n                                                            />\r\n                                                        </TableCell>\r\n                                                    </TableRow>\r\n                                                    )\r\n                                                }):\r\n                                                <TableRow>\r\n                                                    <TableCell colSpan={3}>\r\n                                                        No fields yet\r\n                                                    </TableCell>\r\n                                                </TableRow>\r\n                                            }\r\n                                        </TableBody>\r\n                                    </Table>\r\n                                </TableContainer>\r\n                            </Column>\r\n                        </Row>\r\n                        <br/>\r\n                        <Row>\r\n                            <h2 style={{width: '100%', textAlign: 'center'}}>Crops Section</h2>\r\n                        </Row>\r\n                        <br/>\r\n                        <Row>\r\n                            <Column sm={4} lg={6}>\r\n                                <Form>\r\n                                    <Select\r\n                                        id=\"crop-selector\"\r\n                                        helperText=\"Select crop to add\"\r\n                                        labelText=\"Crop\"\r\n                                        inline={false}\r\n                                        defaultValue={this.state.selectedCrop}\r\n                                        onChange={this._handleChangeCropSelection}\r\n                                    >\r\n                                        {\r\n                                            cropsDetails.map(crop => {\r\n                                                return(\r\n                                                    <SelectItem key={crop.cropId} text={crop.name} value={crop.cropId} />\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </Select>\r\n                                    <br />\r\n                                    <Button\r\n                                        renderIcon={Add20}\r\n                                        onClick={this._handleAddCrop}\r\n                                    >\r\n                                        Add\r\n                                    </Button>\r\n                                </Form>\r\n                            </Column>\r\n                            <Column sm={4} lg={6}>\r\n                                <TableContainer>\r\n                                    <Table>\r\n                                        <TableHead>\r\n                                            <TableRow>\r\n                                                <TableHeader key=\"cropId\">\r\n                                                    Crop Id\r\n                                                </TableHeader>\r\n                                                <TableHeader key=\"cropName\">\r\n                                                    Crop Name\r\n                                                </TableHeader>\r\n                                                <TableHeader key=\"delete\">\r\n\r\n                                                </TableHeader>\r\n                                            </TableRow>\r\n                                        </TableHead>\r\n                                        <TableBody>\r\n                                            {\r\n                                                this.props.crops.length?\r\n                                                this.props.crops.map(crop => {\r\n                                                    return (\r\n                                                        <TableRow key={crop.cropId}>\r\n                                                            <TableCell>\r\n                                                                {crop.cropId}\r\n                                                            </TableCell>\r\n                                                            <TableCell>\r\n                                                                {crop.name}\r\n                                                            </TableCell>\r\n                                                            <TableCell>\r\n                                                                <Button\r\n                                                                    kind=\"ghost\"\r\n                                                                    tabIndex={0}\r\n                                                                    hasonlyicon=\"true\"\r\n                                                                    renderIcon={TrashCan20}\r\n                                                                    iconDescription=\"Delete\"\r\n                                                                    onClick={() => {this.deleteCrop(crop.cropId)}}\r\n                                                                />\r\n                                                            </TableCell>\r\n                                                        </TableRow>\r\n                                                    )\r\n                                                }):\r\n                                                <TableRow>\r\n                                                    <TableCell colSpan={3}>\r\n                                                        No crops yet\r\n                                                    </TableCell>\r\n                                                </TableRow>\r\n                                            }\r\n                                        </TableBody>\r\n                                    </Table>\r\n                                </TableContainer>\r\n                            </Column>\r\n                        </Row>\r\n                    </Grid>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        user: state.user,\r\n        fields: state.fields,\r\n        crops: state.crops,\r\n        busy: state.busy,\r\n        location: state.location\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addCrop: async(owner, cropId, name) => {\r\n            dispatch(await setBusy());\r\n            dispatch(await newCrop(owner, cropId, name))\r\n        },\r\n        removeCrop: async(owner, cropId) => {\r\n            dispatch(await setBusy());\r\n            dispatch(await deleteCrop(owner, cropId));\r\n        },\r\n        addField: async(owner, data) => {\r\n            dispatch(await setBusy());\r\n            dispatch(await newField(owner, data));\r\n        },\r\n        removeField: async(owner, fieldId) => {\r\n            dispatch(await setBusy());\r\n            dispatch(await deleteField(owner, fieldId));\r\n        },\r\n        retrieveCrops: async(email) => {\r\n            dispatch(await setBusy());\r\n            dispatch(await getCrops(email));\r\n        },\r\n        retrieveFields: async(email) => {\r\n            dispatch(await setBusy());\r\n            dispatch(await getFields(email));\r\n        },\r\n        retrieveLocation: async() => {\r\n            dispatch(await setBusy());\r\n            dispatch(await getLocation());\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Configure);","import React from 'react';\r\nimport {\r\n    Grid,\r\n    Column,\r\n    Row\r\n} from 'carbon-components-react/lib/components/Grid';\r\n\r\nexport default class Content extends React.Component {\r\n    render(){\r\n        return(\r\n            <Grid>\r\n                <Row>\r\n                    <Column>\r\n                        {\r\n                            this.props.children\r\n                        }\r\n                    </Column>\r\n                </Row>\r\n            </Grid>\r\n        )\r\n    }\r\n}","import React from 'react';\nimport AppLayout from './components/AppLayout';\nimport Splash from './pages/Splash';\nimport Dashboard from './pages/Dashboard';\nimport Chat from './pages/Chat';\nimport FAQ from './pages/FAQ';\nimport Recovery from './pages/Recovery';\nimport Configure from './pages/Configure';\nimport Content from './components/Content';\nimport './App.css';\nimport { Route, HashRouter } from 'react-router-dom';\nimport { Loading } from 'carbon-components-react';\nimport { connect } from 'react-redux';\n\nclass App extends React.Component {\n  render(){\n    return (\n      <>\n        <Loading active={this.props.busy===true} description={\"Working on it, please wait...\"} withOverlay={true} small={false} />\n        <AppLayout >\n          <HashRouter>\n            <Content>\n              <Route exact path=\"/\" render={() => <Splash />}></Route>\n              <Route exact path=\"/home\" render={() => <Splash />}></Route>\n              <Route path=\"/dashboard\" render={() => <Dashboard/>}></Route>\n              <Route path=\"/chat\" render={() => <Chat/>}></Route>\n              <Route path=\"/faq\" render={() => <FAQ/>}></Route>\n              <Route path=\"/recovery\" render={() => <Recovery/>}></Route>\n              <Route path=\"/configure\" render={() => <Configure />}></Route>\n            </Content>\n          </HashRouter>\n        </AppLayout>\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    busy: state.busy\n  }\n}\n\nexport default connect(mapStateToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import 'carbon-components/css/carbon-components.css';\nimport store from './Store';\nimport { Provider } from 'react-redux';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { saveState } from './localStorage';\n\nstore.subscribe(() => {\n  saveState(store.getState());\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}