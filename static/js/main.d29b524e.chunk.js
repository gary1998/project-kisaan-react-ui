(this["webpackJsonpreact-ui"]=this["webpackJsonpreact-ui"]||[]).push([[0],{136:function(e){e.exports=JSON.parse('[{"cropId":"FR01","name":"Banana","waterL":1200,"waterH":2200,"periodL":270,"periodH":360,"phL":6,"phH":7.5,"season":"NA","tempL":15,"tempH":35,"humL":75,"humH":85},{"cropId":"FR02","name":"Citrus","waterL":900,"waterH":1200,"periodL":240,"periodH":365,"phL":6,"phH":6.5,"season":"K","tempL":13,"tempH":25,"humL":40,"humH":60},{"cropId":"FR03","name":"Grape","waterL":500,"waterH":1200,"periodL":900,"periodH":1095,"phL":5.5,"phH":6.5,"season":"R","tempL":15,"tempH":40,"humL":"","humH":""},{"cropId":"FR04","name":"Groundnut","waterL":500,"waterH":700,"periodL":120,"periodH":150,"phL":6.5,"phH":7,"season":"K","tempL":30,"tempH":35,"humL":"","humH":""},{"cropId":"FR05","name":"Pineapple","waterL":700,"waterH":1000,"periodL":550,"periodH":730,"phL":4.5,"phH":6.5,"season":"K","tempL":20,"tempH":30,"humL":"","humH":""},{"cropId":"FR06","name":"Sugarcane","waterL":1500,"waterH":2500,"periodL":360,"periodH":540,"phL":5,"phH":8.5,"season":"K","tempL":20,"tempH":26,"humL":"","humH":""},{"cropId":"FR07","name":"Sunflower","waterL":600,"waterH":1000,"periodL":125,"periodH":130,"phL":6,"phH":7.5,"season":"NA","tempL":21,"tempH":25,"humL":"","humH":""},{"cropId":"MS01","name":"Cotton","waterL":700,"waterH":1300,"periodL":180,"periodH":195,"phL":6,"phH":6.5,"season":"K","tempL":21,"tempH":37,"humL":"","humH":""},{"cropId":"VG01","name":"Beans","waterL":300,"waterH":500,"periodL":75,"periodH":90,"phL":6,"phH":6.5,"season":"K","tempL":10,"tempH":21,"humL":"","humH":""},{"cropId":"VG02","name":"Cabbage","waterL":380,"waterH":500,"periodL":90,"periodH":120,"phL":6,"phH":6.5,"season":"R","tempL":15,"tempH":18,"humL":"","humH":""},{"cropId":"VG03","name":"Castor","waterL":500,"waterH":500,"periodL":140,"periodH":180,"phL":5,"phH":8.5,"season":"K","tempL":20,"tempH":27,"humL":"","humH":""},{"cropId":"VG04","name":"Chillies","waterL":500,"waterH":500,"periodL":120,"periodH":210,"phL":5,"phH":6,"season":"NA","tempL":18,"tempH":26,"humL":"","humH":""},{"cropId":"VG05","name":"Gingelly","waterL":350,"waterH":400,"periodL":100,"periodH":135,"phL":5.5,"phH":8,"season":"KR","tempL":25,"tempH":26,"humL":"","humH":""},{"cropId":"VG06","name":"Maize","waterL":500,"waterH":800,"periodL":80,"periodH":110,"phL":5.8,"phH":6.8,"season":"K","tempL":18,"tempH":27,"humL":"","humH":""},{"cropId":"VG07","name":"Onion","waterL":350,"waterH":550,"periodL":70,"periodH":95,"phL":5.5,"phH":6.5,"season":"KR","tempL":20,"tempH":25,"humL":"","humH":""},{"cropId":"VG08","name":"Pea","waterL":350,"waterH":500,"periodL":60,"periodH":70,"phL":5.8,"phH":7,"season":"R","tempL":12,"tempH":21,"humL":"","humH":""},{"cropId":"VG09","name":"Potato","waterL":500,"waterH":700,"periodL":75,"periodH":120,"phL":4.8,"phH":5.5,"season":"R","tempL":15,"tempH":21,"humL":"","humH":""},{"cropId":"VG10","name":"Ragi","waterL":400,"waterH":450,"periodL":90,"periodH":150,"phL":4.5,"phH":8,"season":"K","tempL":20,"tempH":40,"humL":"","humH":""},{"cropId":"VG11","name":"Rice","waterL":900,"waterH":2500,"periodL":90,"periodH":150,"phL":5,"phH":8,"season":"K","tempL":20,"tempH":27,"humL":"","humH":""},{"cropId":"VG12","name":"Sorghum","waterL":450,"waterH":650,"periodL":120,"periodH":130,"phL":6,"phH":7.5,"season":"K","tempL":26,"tempH":30,"humL":"","humH":""},{"cropId":"VG13","name":"Millet","waterL":450,"waterH":650,"periodL":105,"periodH":140,"phL":5.8,"phH":6.5,"season":"K","tempL":15,"tempH":20,"humL":"","humH":""},{"cropId":"VG14","name":"Soybean","waterL":450,"waterH":700,"periodL":135,"periodH":150,"phL":6,"phH":7,"season":"K","tempL":25,"tempH":30,"humL":"","humH":""},{"cropId":"VG15","name":"Tomato","waterL":600,"waterH":800,"periodL":50,"periodH":80,"phL":6,"phH":6.8,"season":"R","tempL":18,"tempH":30,"humL":"","humH":""},{"cropId":"VG16","name":"Wheat","waterL":450,"waterH":650,"periodL":120,"periodH":150,"phL":6,"phH":7,"season":"R","tempL":21,"tempH":24,"humL":"","humH":""}]')},141:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"loginWatcher",(function(){return w}));var n={};a.r(n),a.d(n,"logoutWatcher",(function(){return _}));var s={};a.r(s),a.d(s,"geolocationWatcher",(function(){return C}));var c={};a.r(c),a.d(c,"fieldsRetrievalWatcher",(function(){return H}));var o={};a.r(o),a.d(o,"geolocationWatcher",(function(){return G}));var i={};a.r(i),a.d(i,"geolocationWatcher",(function(){return M}));var l={};a.r(l),a.d(l,"fieldsRetrievalWatcher",(function(){return K}));var d={};a.r(d),a.d(d,"cropAdditionWatcher",(function(){return X}));var p={};a.r(p),a.d(p,"cropDeletionWatcher",(function(){return ae}));var u={};a.r(u),a.d(u,"fieldDataRetrievalWatcher",(function(){return oe}));var m={};a.r(m),a.d(m,"agriBotDataRetrievalWatcher",(function(){return pe}));a(97);var h=a(49),E=a(94),g=a(17),b=a.n(g),f=a(42),y=a(21),v=b.a.mark(S),I=b.a.mark(w);function S(e){var t,a;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,"query login($email: String, $password: String){login(email: $email, password: $password){name photo email}}",t={email:e.input.email,password:e.input.password},r.next=5,fetch("https://project-kisaan-graphql-server.herokuapp.com/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query login($email: String, $password: String){login(email: $email, password: $password){name photo email}}",variables:t})}).then((function(e){return e.json()}));case 5:if((a=r.sent).data.login){r.next=11;break}return r.next=9,Object(y.d)({type:"LOGIN_FAILURE",error:"invalid credentials"});case 9:r.next=13;break;case 11:return r.next=13,Object(y.d)({type:"LOGIN_SUCCESS",message:"logged in",user:a.data.login});case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(0),r.next=19,Object(y.d)({type:"LOGIN_FAILURE",error:r.t0});case 19:case"end":return r.stop()}}),v,null,[[0,15]])}function w(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)("LOGIN_REQUEST",S);case 2:case"end":return e.stop()}}),I)}var N=b.a.mark(L),O=b.a.mark(_);function L(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.setItem("projectkisaanstate",""),e.next=4,Object(y.d)({type:"LOGOUT_SUCCESS",message:"logged out"});case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,Object(y.d)({type:"LOGIN_FAILURE",error:e.t0});case 10:case"end":return e.stop()}}),N,null,[[0,6]])}function _(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)("LOGOUT_REQUEST",L);case 2:case"end":return e.stop()}}),O)}var R=b.a.mark(x),T=b.a.mark(C),j=function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition((function(t){return e(t)}),(function(e){return t(e)}),{enableHighAccuracy:!0})}))};function x(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y.b)(j);case 3:if(!(e=t.sent)){t.next=9;break}return t.next=7,Object(y.d)({type:"GEOLOCATION_RETRIEVAL_SUCCESS",message:"received geolocation",geolocation:[e.coords.latitude,e.coords.longitude]});case 7:t.next=11;break;case 9:return t.next=11,Object(y.d)({type:"GEOLOCATION_RETRIEVAL_FAILURE",error:"geolocation not received"});case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(y.d)({type:"GEOLOCATION_RETRIEVAL_FAILURE",error:t.t0});case 17:case"end":return t.stop()}}),R,null,[[0,13]])}function C(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)("GEOLOCATION_RETRIEVAL_REQUEST",x);case 2:case"end":return e.stop()}}),T)}var D=b.a.mark(A),k=b.a.mark(H);function A(e){var t,a;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,"query fields($email: String){fields(email: $email){fieldResId data{name geo_json{features{geometry{coordinates}}}}}}",t={email:e.input.email},r.next=5,fetch("https://project-kisaan-graphql-server.herokuapp.com/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query fields($email: String){fields(email: $email){fieldResId data{name geo_json{features{geometry{coordinates}}}}}}",variables:t})}).then((function(e){return e.json()}));case 5:return a=r.sent,r.next=8,Object(y.d)({type:"FIELDS_RETRIEVAL_SUCCESS",message:"received fields",fields:a.data.fields});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(y.d)({type:"FIELDS_RETRIEVAL_FAILURE",error:r.t0});case 14:case"end":return r.stop()}}),D,null,[[0,10]])}function H(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)("FIELDS_RETRIEVAL_REQUEST",A);case 2:case"end":return e.stop()}}),k)}var F=b.a.mark(U),B=b.a.mark(G);function U(e){var t,a,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat("https://api.agromonitoring.com/agro/1.0","/polygons?appid=83e9d92cb19c29c0045da2e0282321f5"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.input.data)}).then((function(e){return e.json()}));case 3:if(!(t=n.sent).id){n.next=17;break}return a="".concat(e.input.owner,":fields:").concat(t.id),"mutation addField($owner: String, $data: FieldInputData, $fieldResId: String){createField(owner: $owner, data: $data, fieldResId: $fieldResId){fieldResId data{name geo_json{features{geometry{coordinates}}}}}}",delete e.input.data.geo_json.features[0].properties,r={fieldResId:a,owner:e.input.owner,data:e.input.data},n.next=11,fetch("https://project-kisaan-graphql-server.herokuapp.com/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"mutation addField($owner: String, $data: FieldInputData, $fieldResId: String){createField(owner: $owner, data: $data, fieldResId: $fieldResId){fieldResId data{name geo_json{features{geometry{coordinates}}}}}}",variables:r})}).then((function(e){return e.json()}));case 11:if(!n.sent.data.createField.fieldResId){n.next=15;break}return n.next=15,Object(y.d)({type:"ADD_FIELD_SUCCESS",message:"field added",newField:{fieldResId:a,data:e.input.data}});case 15:n.next=19;break;case 17:return n.next=19,Object(y.d)({type:"ADD_FIELD_FAILURE",error:"field not added"});case 19:n.next=25;break;case 21:return n.prev=21,n.t0=n.catch(0),n.next=25,Object(y.d)({type:"ADD_FIELD_FAILURE",error:n.t0});case 25:case"end":return n.stop()}}),F,null,[[0,21]])}function G(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)("ADD_FIELD_REQUEST",U);case 2:case"end":return e.stop()}}),B)}var P=b.a.mark(V),W=b.a.mark(M);function V(e){var t,a;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("".concat("https://api.agromonitoring.com/agro/1.0","/polygons/").concat(e.input.fieldId,"?appid=83e9d92cb19c29c0045da2e0282321f5"),{method:"DELETE"}).then((function(e){return e.ok}));case 3:if(!r.sent){r.next=16;break}return"mutation deleteField($fieldResId: String){removeField(fieldResId: $fieldResId)}",t="".concat(e.input.owner,":fields:").concat(e.input.fieldId),a={fieldResId:t},r.next=10,fetch("https://project-kisaan-graphql-server.herokuapp.com/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"mutation deleteField($fieldResId: String){removeField(fieldResId: $fieldResId)}",variables:a})}).then((function(e){return e.json()}));case 10:if(!r.sent.data.removeField){r.next=14;break}return r.next=14,Object(y.d)({type:"DELETE_FIELD_SUCCESS",message:"field deleted",removedField:t});case 14:r.next=18;break;case 16:return r.next=18,Object(y.d)({type:"DELETE_FIELD_FAILURE",error:"field not deleted"});case 18:r.next=24;break;case 20:return r.prev=20,r.t0=r.catch(0),r.next=24,Object(y.d)({type:"DELETE_FIELD_FAILURE",error:r.t0});case 24:case"end":return r.stop()}}),P,null,[[0,20]])}function M(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)("DELETE_FIELD_REQUEST",V);case 2:case"end":return e.stop()}}),W)}var $=b.a.mark(q),Q=b.a.mark(K);function q(e){var t,a;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,"query crops($email: String){crops(email: $email){cropId name cropResId}}",t=e.input,r.next=5,fetch("https://project-kisaan-graphql-server.herokuapp.com/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query crops($email: String){crops(email: $email){cropId name cropResId}}",variables:t})}).then((function(e){return e.json()}));case 5:return a=r.sent,r.next=8,Object(y.d)({type:"CROPS_RETRIEVAL_SUCCESS",message:"received crops",crops:a.data.crops});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(y.d)({type:"CROPS_RETRIEVAL_FAILURE",error:r.t0});case 14:case"end":return r.stop()}}),$,null,[[0,10]])}function K(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)("CROPS_RETRIEVAL_REQUEST",q);case 2:case"end":return e.stop()}}),Q)}var J=b.a.mark(z),Y=b.a.mark(X);function z(e){var t,a;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,"mutation addCrop($owner: String, $cropId: String, $cropResId: String, $name: String){createCrop(owner: $owner, cropId: $cropId, name: $name, cropResId: $cropResId){cropResId cropId}}",t="".concat(e.input.owner,":crops:").concat(e.input.cropId),a={cropId:e.input.cropId,name:e.input.name,owner:e.input.owner,cropResId:t},r.next=6,fetch("https://project-kisaan-graphql-server.herokuapp.com/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"mutation addCrop($owner: String, $cropId: String, $cropResId: String, $name: String){createCrop(owner: $owner, cropId: $cropId, name: $name, cropResId: $cropResId){cropResId cropId}}",variables:a})}).then((function(e){return e.json()}));case 6:if(!r.sent.data.createCrop.cropId){r.next=12;break}return r.next=10,Object(y.d)({type:"ADD_CROP_SUCCESS",message:"added crop",newCrop:{cropId:e.input.cropId,name:e.input.name}});case 10:r.next=14;break;case 12:return r.next=14,Object(y.d)({type:"ADD_CROP_FAILURE",error:"can't add new crop"});case 14:r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(0),r.next=20,Object(y.d)({type:"ADD_CROP_FAILURE",error:r.t0});case 20:case"end":return r.stop()}}),J,null,[[0,16]])}function X(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)("ADD_CROP_REQUEST",z);case 2:case"end":return e.stop()}}),Y)}var Z=b.a.mark(te),ee=b.a.mark(ae);function te(e){var t,a;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,"mutation deleteCrop($cropResId: String){removeCrop(cropResId: $cropResId)}",t="".concat(e.input.owner,":crops:").concat(e.input.cropId),a={cropResId:t},r.next=6,fetch("https://project-kisaan-graphql-server.herokuapp.com/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"mutation deleteCrop($cropResId: String){removeCrop(cropResId: $cropResId)}",variables:a})}).then((function(e){return e.json()}));case 6:if(!r.sent.data.removeCrop){r.next=12;break}return r.next=10,Object(y.d)({type:"DELETE_CROP_SUCCESS",message:"deleted crop",removedCrop:e.input.cropId});case 10:r.next=14;break;case 12:return r.next=14,Object(y.d)({type:"DELETE_CROP_FAILURE",error:"can't delete crop"});case 14:r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(0),r.next=20,Object(y.d)({type:"DELETE_CROP_FAILURE",error:r.t0});case 20:case"end":return r.stop()}}),Z,null,[[0,16]])}function ae(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)("DELETE_CROP_REQUEST",te);case 2:case"end":return e.stop()}}),ee)}var re=a(30),ne=b.a.mark(ce),se=b.a.mark(oe);function ce(e){var t,a,r,n,s,c,o,i,l;return b.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,t=e.input.fieldResId.substring(e.input.fieldResId.lastIndexOf(":")+1),a={},d.next=5,fetch("".concat("https://api.agromonitoring.com/agro/1.0","/weather?polyid=").concat(t,"&appid=83e9d92cb19c29c0045da2e0282321f5&units=metric"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 5:return r=d.sent,a.weatherData=r,d.next=9,fetch("".concat("https://api.agromonitoring.com/agro/1.0","/weather/forecast?polyid=").concat(t,"&appid=83e9d92cb19c29c0045da2e0282321f5&units=metric"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 9:return n=d.sent,a.forecastWeatherData=n,d.next=13,fetch("".concat("https://api.agromonitoring.com/agro/1.0","/soil?polyid=").concat(t,"&appid=83e9d92cb19c29c0045da2e0282321f5&units=metric"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(re.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:return s=d.sent,a.soilData=s,d.next=17,fetch("".concat("https://api.agromonitoring.com/agro/1.0","/uvi?polyid=").concat(t,"&appid=83e9d92cb19c29c0045da2e0282321f5&units=metric"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(re.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:return c=d.sent,a.uviData=c,d.next=21,fetch("".concat("https://api.agromonitoring.com/agro/1.0","/image/search?start=0&end=1&polyid=").concat(t,"&appid=83e9d92cb19c29c0045da2e0282321f5&units=metric"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(re.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 21:return o=d.sent,a.satelliteImageryData=o,d.next=25,fetch("".concat(o[o.length-1].stats.ndvi.replace("http://","https://")),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(re.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 25:return i=d.sent,a.ndviStatsData=i,d.next=29,fetch("".concat(o[o.length-1].stats.evi2.replace("http://","https://")),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(re.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 29:return l=d.sent,a.eviStatsData=l,d.next=33,Object(y.d)({type:"SATELLITE_INSIGHTS_RETRIEVAL_SUCCESS",message:"satellite insights received",satelliteInsights:a});case 33:d.next=39;break;case 35:return d.prev=35,d.t0=d.catch(0),d.next=39,Object(y.d)({type:"SATELLITE_INSIGHTS_RETRIEVAL_FAILURE",error:d.t0});case 39:case"end":return d.stop()}}),ne,null,[[0,35]])}function oe(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)("SATELLITE_INSIGHTS_RETRIEVAL_REQUEST",ce);case 2:case"end":return e.stop()}}),se)}var ie=b.a.mark(de),le=b.a.mark(pe);function de(e){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},e.next=4,fetch("https://agribot-7dadf.firebaseio.com/event/hardware.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():void 0}));case 4:if(a=e.sent,t.deviceResponse=a,!t){e.next=11;break}return e.next=9,Object(y.d)({type:"AGRIBOT_INSIGHTS_RETRIEVAL_SUCCESS",message:"agribot insights received",agriBotInsights:t});case 9:e.next=13;break;case 11:return e.next=13,Object(y.d)({type:"AGRIBOT_INSIGHTS_RETRIEVAL_FAILURE",error:"agribot insights not received"});case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),e.next=19,Object(y.d)({type:"AGRIBOT_INSIGHTS_RETRIEVAL_FAILURE",error:e.t0});case 19:case"end":return e.stop()}}),ie,null,[[0,15]])}function pe(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)("AGRIBOT_INSIGHTS_RETRIEVAL_REQUEST",de);case 2:case"end":return e.stop()}}),le)}var ue=b.a.mark(me);function me(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([].concat(Object(f.a)(Object.values(r)),Object(f.a)(Object.values(n)),Object(f.a)(Object.values(s)),Object(f.a)(Object.values(c)),Object(f.a)(Object.values(o)),Object(f.a)(Object.values(i)),Object(f.a)(Object.values(l)),Object(f.a)(Object.values(d)),Object(f.a)(Object.values(p)),Object(f.a)(Object.values(u)),Object(f.a)(Object.values(m))).map(y.c));case 2:case"end":return e.stop()}}),ue)}var he=a(20),Ee=function(e,t){switch(t.type){case"LOGIN_REQUEST":case"LOGOUT_REQUEST":case"GEOLOCATION_RETRIEVAL_REQUEST":case"FIELDS_RETRIEVAL_REQUEST":case"CROPS_RETRIEVAL_REQUEST":case"ADD_FIELD_REQUEST":case"ADD_CROP_REQUEST":case"DELETE_FIELD_REQUEST":case"DELETE_CROP_REQUEST":return Object(he.a)(Object(he.a)({},e),{},{satelliteBusy:!1,busy:!0});case"SATELLITE_INSIGHTS_RETRIEVAL_REQUEST":return Object(he.a)(Object(he.a)({},e),{},{busy:!0,agriBotBusy:!1,satelliteBusy:!0});case"AGRIBOT_INSIGHTS_RETRIEVAL_REQUEST":return Object(he.a)(Object(he.a)({},e),{},{busy:!0,satelliteBusy:!1,agriBotBusy:!0});case"LOGIN_FAILURE":case"LOGOUT_FAILURE":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,user:void 0});case"GEOLOCATION_RETRIEVAL_FAILURE":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,geolocation:void 0});case"FIELDS_RETRIEVAL_FAILURE":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,fields:void 0});case"CROPS_RETRIEVAL_FAILURE":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,crops:void 0});case"ADD_FIELD_FAILURE":case"ADD_CROP_FAILURE":case"DELETE_FIELD_FAILURE":case"DELETE_CROP_FAILURE":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1});case"SATELLITE_INSIGHTS_RETRIEVAL_FAILURE":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,agriBotBusy:!1,satelliteInsights:void 0});case"AGRIBOT_INSIGHTS_RETRIEVAL_FAILURE":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,agriBotBusy:!1,satelliteBusy:!1,agriBotInsights:void 0});case"LOGIN_SUCCESS":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,user:t.user});case"LOGOUT_SUCCESS":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,user:void 0});case"GEOLOCATION_RETRIEVAL_SUCCESS":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,geolocation:t.geolocation});case"FIELDS_RETRIEVAL_SUCCESS":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,fields:t.fields});case"CROPS_RETRIEVAL_SUCCESS":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,crops:t.crops});case"ADD_FIELD_SUCCESS":console.log("success:",t.message);var a=e.fields.concat(t.newField);return Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,fields:a});case"ADD_CROP_SUCCESS":console.log("success:",t.message);var r=e.crops.concat(t.newCrop);return Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,crops:r});case"DELETE_FIELD_SUCCESS":console.log("success:",t.message);var n=e.fields.filter((function(e){return e.fieldResId!==t.removedField}));return Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,fields:n});case"DELETE_CROP_SUCCESS":console.log("success:",t.message);var s=e.crops.filter((function(e){return e.cropId!==t.removedCrop}));return Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,crops:s});case"SATELLITE_INSIGHTS_RETRIEVAL_SUCCESS":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,satelliteBusy:!1,agriBotBusy:!1,satelliteInsights:t.satelliteInsights});case"AGRIBOT_INSIGHTS_RETRIEVAL_SUCCESS":return console.log("success:",t.message),Object(he.a)(Object(he.a)({},e),{},{busy:!1,agriBotBusy:!1,satelliteBusy:!1,agriBotInsights:t.agriBotInsights});default:return console.log("invalid action type"),Object(he.a)({},e)}},ge=Object(E.a)(),be=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):h.c)(Object(h.a)(ge)),fe=function(){try{var e=localStorage.getItem("projectkisaanstate");if(null===e)return;return JSON.parse(e)}catch(t){return}}()||{},ye=Object(h.d)(Ee,fe,be);ge.run(me);var ve=ye,Ie=a(36),Se=a(0),we=a.n(Se),Ne=a(53),Oe=a.n(Ne),Le=a(26),_e=a(27),Re=a(29),Te=a(28),je=a(51),xe=function(e){return{type:"FIELDS_RETRIEVAL_REQUEST",input:e}},Ce=a(87),De=a.n(Ce),ke=a(86),Ae=a.n(ke),He=a(89),Fe=a.n(He),Be=a(88),Ue=a.n(Be),Ge=a(90),Pe=a.n(Ge),We=a(82),Ve=a.n(We),Me=a(84),$e=a.n(Me),Qe=a(85),qe=a.n(Qe),Ke=a(34),Je=a(163),Ye=a(162),ze=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(){var e;Object(Le.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={sideNav:!1,profileModalShow:!1,loginModalShow:!1,email:"",password:""},e._handleLogout=Object(re.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({profileModalShow:!1}),t.next=3,e.props.logout();case 3:case"end":return t.stop()}}),t)}))),e._handleLoginSubmit=Object(re.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loginModalShow:!1}),t.next=3,e.props.login(e.state.email,e.state.password);case 3:case"end":return t.stop()}}),t)}))),e._handleEmailChange=function(t){e.setState({email:t.target.value})},e._handlePasswordChange=function(t){e.setState({password:t.target.value})},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return we.a.createElement("div",{className:"container"},we.a.createElement(je.a,null,we.a.createElement(Ke.Header,{"aria-label":"IBM Platform Name"},we.a.createElement(Ke.HeaderMenuButton,{"aria-label":"Open menu",onClick:function(){return e.setState({sideNav:!e.state.sideNav})},isActive:this.state.sideNav}),we.a.createElement(Ke.HeaderName,{href:"#home",prefix:""},"Project Kisaan"),we.a.createElement(Ke.HeaderGlobalBar,null,we.a.createElement(we.a.Fragment,null,we.a.createElement(Ke.HeaderGlobalAction,{onClick:function(){e.props.user?e.setState({profileModalShow:!0}):e.setState({loginModalShow:!0})},"aria-label":"User"},we.a.createElement(Ve.a,null)),this.props.user?we.a.createElement(Je.a,{open:this.state.profileModalShow,primaryButtonText:"Close",secondaryButtonText:"Logout",onRequestClose:function(){return e.setState({profileModalShow:!1})},onRequestSubmit:function(){return e.setState({profileModalShow:!1})},onSecondarySubmit:this._handleLogout},we.a.createElement("div",{style:{textAlign:"center"}},we.a.createElement("img",{alt:"avatar",src:this.props.user.photo,style:{width:"80px",height:"80px"}})),we.a.createElement(Ye.a,{id:"user-name",disabled:!0,labelText:"Your Name:",light:!1,value:this.props.user.name,type:"text"}),we.a.createElement("br",null),we.a.createElement(Ye.a,{id:"user-email",disabled:!0,labelText:"Your Email:",light:!1,value:this.props.user.email,type:"text"})):we.a.createElement(we.a.Fragment,null),we.a.createElement(Je.a,{open:this.state.loginModalShow,primaryButtonText:"Login",secondaryButtonText:"Close",onRequestClose:function(){return e.setState({loginModalShow:!1})},onRequestSubmit:this._handleLoginSubmit,onSecondarySubmit:function(){return e.setState({loginModalShow:!1})},disabled:!0},we.a.createElement(Ye.a,{id:"email-input",disabled:!1,labelText:"Your Email:",light:!1,placeholder:"mark@gmail.com",value:this.state.email,type:"text",onChange:this._handleEmailChange}),we.a.createElement("br",null),we.a.createElement(Ye.a,{id:"password-input",disabled:!1,labelText:"Your Email:",light:!1,placeholder:"**********",value:this.state.password,type:"password",onChange:this._handlePasswordChange}))),we.a.createElement(je.b,{to:"/notifications"},we.a.createElement(Ke.HeaderGlobalAction,{"aria-label":"Global Notifications"},we.a.createElement($e.a,null))),we.a.createElement(je.b,{to:"/settings"},we.a.createElement(Ke.HeaderGlobalAction,{"aria-label":"App Settings"},we.a.createElement(qe.a,null)))),we.a.createElement(Ke.SideNav,Object.assign({},Ke.SideNavProps,{"aria-label":"Side navigation",isRail:!0,defaultExpanded:!1,expanded:this.state.sideNav}),we.a.createElement(Ke.SideNavItems,null,we.a.createElement(je.b,{to:"/home"},we.a.createElement(Ke.SideNavLink,{renderIcon:Ae.a},"Home")),this.props.user?we.a.createElement(we.a.Fragment,null,we.a.createElement(Ke.SideNavLink,{href:"#chat",renderIcon:De.a},"Chat"),we.a.createElement(Ke.SideNavLink,{href:"#configure",renderIcon:Ue.a},"Configure"),we.a.createElement(Ke.SideNavLink,{href:"#dashboard",renderIcon:Fe.a},"Dashboard")):we.a.createElement(we.a.Fragment,null),we.a.createElement(Ke.SideNavLink,{href:"#faq",renderIcon:Pe.a},"Assistance/FAQs"))))),we.a.createElement(Ke.Content,null,this.props.children))}}]),a}(we.a.Component);var Xe=Object(Ie.b)((function(e){return{user:e.user,busy:e.busy}}),(function(e){return{logout:function(){var t=Object(re.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"LOGOUT_REQUEST"});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),login:function(t,a){e({type:"LOGIN_REQUEST",input:{email:t,password:a}})}}}))(ze),Ze=a(164),et=a(8),tt=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(){return Object(Le.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){return we.a.createElement("div",{style:{textAlign:"center"}},we.a.createElement("div",null,we.a.createElement("img",{alt:"splash",src:"https://image.winudf.com/v2/image/Y29tLmphaWtpc2Fhbl9pY29uXzE1MDk0NjYxNTVfMDUy/icon.png?w=170&fakeurl=1"})),we.a.createElement("br",null),we.a.createElement("p",null,"The project focuses on building a centralized automatic device which will be a great asset for farmers to make them able to produce as much as they can. It can be done by giving them accurate figures and ideas about what, how, when and where to grow."),we.a.createElement("br",null),this.props.user?we.a.createElement(we.a.Fragment,null,we.a.createElement("div",null,we.a.createElement(Ze.a,{href:"#faq",renderIcon:et.xb},"More Information")),we.a.createElement("br",null),we.a.createElement("div",{className:"bx--form__helper-text",style:{maxWidth:"100%"}},"You're already signed in.")):we.a.createElement(we.a.Fragment,null,we.a.createElement("div",{className:"bx--form__helper-text",style:{maxWidth:"100%"}},"You need to sign in with the credentials provided to you with AgriBot purchase.")))}}]),a}(we.a.Component),at=a(156),rt=a(151),nt=a(157),st=a(158),ct=a(150),ot=a(152),it=a(12),lt=a(11),dt=a(149),pt=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(){return Object(Le.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){return we.a.createElement(dt.a,{className:"card"},we.a.createElement(dt.a,{light:!0,className:"card-header"},we.a.createElement("div",null,we.a.createElement("h3",{className:"inline"},this.props.heading),we.a.createElement("span",{className:"inline card-icon"},this.props.icon)),we.a.createElement("div",{className:" inline bx--form__helper-text"},this.props.subtitle)),we.a.createElement(dt.a,{light:!0,className:"card-body"},this.props.children))}}]),a}(we.a.Component),ut=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(e){var r;return Object(Le.a)(this,a),(r=t.call(this,e)).state={pH:parseFloat((r.props.agriBotInsights.deviceResponse["arduino-uno"].soil.r+r.props.agriBotInsights.deviceResponse["arduino-uno"].soil.g)/(2*r.props.agriBotInsights.deviceResponse["arduino-uno"].soil.b)).toPrecision(2),n:[6,7.5],p:[6.5,7.5],k:[6,10],s:[6,10],ca:[6.5,7.5],mg:[6.5,8.5],fe:[4,6],mn:[5,7.5],b:[5.5,7],cu:[5,7],zn:[5,7],mo:[8.5,10]},r._formatName=function(e){return e=(e=e.replace("_"," ")).toUpperCase()},r._getNutrients=function(e){return r.state.pH<r.state[e][0]?"low":r.state.pH>r.state[e][1]?"high":"moderate"},r.props.getAgriBotInsights(),r}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return we.a.createElement(we.a.Fragment,null,we.a.createElement("br",null),this.props.agriBotInsights.deviceResponse?we.a.createElement(ct.a,{style:{backgroundColor:"#f4f4f4"}},we.a.createElement(rt.a,null,we.a.createElement(ot.a,{style:{textAlign:"center"}},we.a.createElement(Ze.a,{onClick:function(){return window.location.reload()},renderIcon:it.Xb},"Refresh"),"\xa0\xa0",we.a.createElement(Ze.a,{onClick:function(){return window.print()},renderIcon:lt.le},"Print"))),we.a.createElement("br",null),we.a.createElement(rt.a,{id:"printableArea"},we.a.createElement(ot.a,null,this.props.agriBotInsights.deviceResponse["arduino-uno"]&&this.props.agriBotInsights.deviceResponse.bmp280&&this.props.agriBotInsights.deviceResponse.dht11?we.a.createElement(pt,{heading:"AgriBot Data",icon:we.a.createElement(et.hc,null),subtitle:new Date(this.props.agriBotInsights.deviceResponse.timestamp).toLocaleString()},we.a.createElement("hr",null),we.a.createElement("div",{className:"card-body"},we.a.createElement("h4",{className:"card-body-head"},"Environment Analytics")),we.a.createElement("br",null),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Temperature"),we.a.createElement("span",{className:"card-body-value"},this.props.agriBotInsights.deviceResponse.dht11.env_temp,"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Humidity"),we.a.createElement("span",{className:"card-body-value"},this.props.agriBotInsights.deviceResponse.dht11.env_humidity," %")),we.a.createElement("hr",null),we.a.createElement("div",{className:"card-body"},we.a.createElement("h4",{className:"card-body-head"},"Soil Analytics")),we.a.createElement("br",null),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Moisture"),we.a.createElement("span",{className:"card-body-value"},this.props.agriBotInsights.deviceResponse["arduino-uno"].soil.moist," m",we.a.createElement("sup",null,"3"),"/m",we.a.createElement("sup",null,"3"))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Temperature"),we.a.createElement("span",{className:"card-body-value"},this.props.agriBotInsights.deviceResponse.ds18b20.soil_temp,"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Index"),we.a.createElement("span",{className:"card-body-value"},this.props.agriBotInsights.deviceResponse["arduino-uno"].soil.pH)),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"pH"),we.a.createElement("span",{className:"card-body-value"},this.state.pH)),we.a.createElement("hr",null),we.a.createElement("div",{className:"card-body"},we.a.createElement("h4",{className:"card-body-head"},"Air Analytics")),we.a.createElement("br",null),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"AQI"),we.a.createElement("span",{className:"card-body-value"},this.props.agriBotInsights.deviceResponse["arduino-uno"].aqi)),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Air Pressure"),we.a.createElement("span",{className:"card-body-value"},this.props.agriBotInsights.deviceResponse.bmp280.air_pressure," hPa")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Air Temperature"),we.a.createElement("span",{className:"card-body-value"},this.props.agriBotInsights.deviceResponse.bmp280.air_temp,"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Altitude"),we.a.createElement("span",{className:"card-body-value"},this.props.agriBotInsights.deviceResponse.bmp280.altitude," m")),we.a.createElement("hr",null),we.a.createElement("div",{className:"card-body"},we.a.createElement("h4",{className:"card-body-head"},"Soil Nutrients Analytics")),we.a.createElement("br",null),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Nitrogen (N)"),we.a.createElement("span",{className:"card-body-value"},this._getNutrients("n"),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"".concat(this._getNutrients("n"))})))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Potassium (P)"),we.a.createElement("span",{className:"card-body-value"},this._getNutrients("p"),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"".concat(this._getNutrients("p"))})))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Phosphorous (K)"),we.a.createElement("span",{className:"card-body-value"},this._getNutrients("k"),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"".concat(this._getNutrients("k"))})))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Sulphur (S)"),we.a.createElement("span",{className:"card-body-value"},this._getNutrients("s"),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"".concat(this._getNutrients("s"))})))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Calcium (Ca)"),we.a.createElement("span",{className:"card-body-value"},this._getNutrients("ca"),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"".concat(this._getNutrients("ca"))})))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Magnesium (Mg)"),we.a.createElement("span",{className:"card-body-value"},this._getNutrients("mg"),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"".concat(this._getNutrients("mg"))})))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Iron (Fe)"),we.a.createElement("span",{className:"card-body-value"},this._getNutrients("fe"),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"".concat(this._getNutrients("fe"))})))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Manganese (Mn)"),we.a.createElement("span",{className:"card-body-value"},this._getNutrients("mn"),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"".concat(this._getNutrients("mn"))})))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Boron (B)"),we.a.createElement("span",{className:"card-body-value"},this._getNutrients("b"),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"".concat(this._getNutrients("b"))})))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Copper (Cu)"),we.a.createElement("span",{className:"card-body-value"},this._getNutrients("cu"),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"".concat(this._getNutrients("cu"))})))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Zinc (Zn)"),we.a.createElement("span",{className:"card-body-value"},this._getNutrients("zn"),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"".concat(this._getNutrients("zn"))})))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Molybdenum (Mo)"),we.a.createElement("span",{className:"card-body-value"},this._getNutrients("mo"),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"".concat(this._getNutrients("mo"))}))))):we.a.createElement(we.a.Fragment,null))),we.a.createElement("br",null),we.a.createElement(rt.a,null,we.a.createElement(ot.a,null,this.props.agriBotInsights.deviceResponse.plantdoc?we.a.createElement(pt,{heading:"PlantDoc Analytics",icon:we.a.createElement("img",{src:"https://www.klick.com/health/wp-content/uploads/2016/04/healthbot.jpg",width:"32px",alt:"plantDoc"}),subtitle:new Date(this.props.agriBotInsights.deviceResponse.plantdoc.report.dt).toLocaleString()},we.a.createElement("div",{className:"card-body"},we.a.createElement("img",{src:this.props.agriBotInsights.deviceResponse.plantdoc.url,alt:"img",width:"500px"})),we.a.createElement("hr",null),we.a.createElement("div",{className:"card-body"},we.a.createElement("h4",{className:"card-body-head"},"Nutrient Deficiency Analysis Report")),we.a.createElement("br",null),this.props.agriBotInsights.deviceResponse.plantdoc.report.deficiencies?this.props.agriBotInsights.deviceResponse.plantdoc.report.deficiencies.map((function(t){return we.a.createElement(we.a.Fragment,null,we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},e._formatName(t.name))),we.a.createElement("div",{className:"card-body"},we.a.createElement("span",{className:"card-body-head"},t.text)))})):"",we.a.createElement("hr",null),we.a.createElement("div",{className:"card-body"},we.a.createElement("h4",{className:"card-body-head"},"Disease Analysis Report")),we.a.createElement("br",null),this.props.agriBotInsights.deviceResponse.plantdoc.report.deficiencies?this.props.agriBotInsights.deviceResponse.plantdoc.report.diseases.map((function(t){return we.a.createElement(we.a.Fragment,null,we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},e._formatName(t.name))),we.a.createElement("div",{className:"card-body"},we.a.createElement("span",{className:"card-body-head"},t.text)))})):""):"Connecting to AgriBot..."))):we.a.createElement(we.a.Fragment,null))}}]),a}(we.a.Component),mt=Object(Ie.b)((function(e){return{fields:e.fields,agriBotInsights:e.agriBotInsights}}),(function(e){return{getAgriBotInsights:function(){e({type:"AGRIBOT_INSIGHTS_RETRIEVAL_REQUEST",input:{}})}}}))(ut),ht=a(153),Et=a(154),gt=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(){var e;Object(Le.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={datetime:"",datetimeupdater:""},e.UNSAFE_componentWillMount=Object(re.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=setInterval((function(){e.setState({datetime:(new Date).toLocaleString()})}),100),e.setState({datetimeupdater:a});case 2:case"end":return t.stop()}}),t)}))),e}return Object(_e.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.state.datetimeupdater)}},{key:"render",value:function(){return we.a.createElement(rt.a,null,we.a.createElement(ot.a,null,we.a.createElement(Ze.a,{disabled:!0,kind:"ghost",size:"field"},this.state.datetime)),we.a.createElement(ot.a,null,we.a.createElement(ht.a,{value:this.props.selectedField,onChange:this.props.onFieldChange,width:"xl",id:"agriBotDashboardfieldSelector",inline:!0},this.props.fields?this.props.fields.map((function(e){var t=e.fieldResId.lastIndexOf(":"),a=e.fieldResId.substring(t+1);return we.a.createElement(Et.a,{key:e.fieldResId,text:a,value:e.fieldResId})})):we.a.createElement(we.a.Fragment,null))))}}]),a}(we.a.Component),bt=Object(Ie.b)((function(e){return{fields:e.fields}}))(gt),ft=a(155),yt=a(7),vt=a(14),It=a(9),St=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(e){var r;return Object(Le.a)(this,a),(r=t.call(this,e)).state={selectedField:r.props.fields&&r.props.fields.length>0?r.props.fields[0].fieldResId:"",forecastWeatherSlider:1},r._onFieldChange=function(){var e=Object(re.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({selectedField:t.target.value},Object(re.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.getSatelliteInsights(r.state.selectedField);case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r._sendMessageToTelegram=function(e){fetch("https://api.telegram.org/bot1267879078:AAFMH_eSpST_FlHI-2pKLmIj3Mn03W16lbI/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:1008351134,text:e,parse_mode:"html"})}).then((function(e){console.log(e.json())}))},r._sendAlertsToTelegram=function(){(r.props.satelliteInsights.weatherData.main.temp>=30||(r.props.satelliteInsights.soilData.t0-273.15).toPrecision(4)>=32||(r.props.satelliteInsights.soilData.t10-273.15).toPrecision(4)>=32)&&r._sendMessageToTelegram("<b><i><u>High Temperature! Not suitable for sowing seeds.</u></i></b>"),(r.props.satelliteInsights.weatherData.main.temp<=20||(r.props.satelliteInsights.soilData.t0-273.15).toPrecision(4)<=21||(r.props.satelliteInsights.soilData.t10-273.15).toPrecision(4)<=21)&&r._sendMessageToTelegram("<b><i><u>Low Temperature! Not suitable for sowing seeds.</u></i></b>"),r.props.satelliteInsights.weatherData.main.temp_max>=32&&r._sendMessageToTelegram("<b><i><u>High Temperature! Not suitable for crops.</u></i></b>"),r.props.satelliteInsights.weatherData.main.temp_min<=21&&r._sendMessageToTelegram("<b><i><u>Low Temperature! Not suitable for crops.</u></i></b>"),r.props.satelliteInsights.weatherData.main.pressure>=1200&&r._sendMessageToTelegram("<b><i><u>High Barometric Pressure! Not suitable for crops.</u></i></b>"),r.props.satelliteInsights.weatherData.main.pressure<=500&&r._sendMessageToTelegram("<b><i><u>Low Barometric Pressure! Not suitable for crops.</u></i></b>"),r.props.satelliteInsights.weatherData.main.humidity>=70&&r._sendMessageToTelegram("<b><i><u>High Humidity! Not suitable for crops.</u></i></b>"),r.props.satelliteInsights.weatherData.main.humidity<=50&&r._sendMessageToTelegram("<b><i><u>Low Humidity! Not suitable for crops.</u></i></b>"),r.props.satelliteInsights.weatherData.wind.speed>=.5&&r._sendMessageToTelegram("<b><i><u>High Wind Speed! Not suitable for crops.</u></i></b>"),r.props.satelliteInsights.weatherData.wind.speed<=.1&&r._sendMessageToTelegram("<b><i><u>Low Wind Speed! Not suitable for crops.</u></i></b>"),r.props.satelliteInsights.ndviStatsData.mean.toPrecision(2)>=.5&&r.props.satelliteInsights.eviStatsData.mean.toPrecision(2)>=.5?r._sendMessageToTelegram("<b><i><u>Your crops look healthy!</u></i></b>"):r._sendMessageToTelegram("<b><i><u>Your crops look unhealthy!</u></i></b>"),r.props.satelliteInsights.soilData.moisture>=75&&r._sendMessageToTelegram("<b><i><u>High Moisture! Stop irrigating the soil.</u></i></b>"),r.props.satelliteInsights.soilData.moisture<=25&&r._sendMessageToTelegram("<b><i><u>Low Moisture! Irrigate the soil.</u></i></b>"),r.props.satelliteInsights.uviData.uvi<=.5&&r._sendMessageToTelegram("<b><i><u>Low UV Index! Not suitable for crops.</u></i></b>"),"04d"!==r.props.satelliteInsights.weatherData.weather[0].icon&&"04n"!==r.props.satelliteInsights.weatherData.weather[0].icon||r._sendMessageToTelegram("<b><i><u>Light Rain Alert! It may rain today, no need to irrigate.</u></i></b>"),"09d"!==r.props.satelliteInsights.weatherData.weather[0].icon&&"09n"!==r.props.satelliteInsights.weatherData.weather[0].icon||r._sendMessageToTelegram("<b><i><u>Strong Rain Alert! It may rain today, no need to irrigate.</u></i></b>")},r._onForecastWeatherSliderChange=function(e){r.setState({forecastWeatherSlider:e.value})},r.props.getSatelliteInsights(r.state.selectedField),r._sendAlertsToTelegram(),r}return Object(_e.a)(a,[{key:"render",value:function(){return we.a.createElement(we.a.Fragment,null,we.a.createElement(bt,{selectedField:this.state.selectedField,onFieldChange:this._onFieldChange}),we.a.createElement("br",null),this.props.satelliteInsights?we.a.createElement(ct.a,{style:{backgroundColor:"#f4f4f4"}},we.a.createElement(rt.a,null,we.a.createElement(ot.a,null,this.props.satelliteInsights.weatherData?we.a.createElement(pt,{heading:"Current Weather",icon:we.a.createElement("img",{src:"https://openweathermap.org/img/w/".concat(this.props.satelliteInsights.weatherData.weather[0].icon,".png"),alt:this.props.satelliteInsights.weatherData.weather.icon}),subtitle:new Date(1e3*this.props.satelliteInsights.weatherData.dt).toLocaleString()},we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Temperature"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.weatherData.main.temp,"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Feels like"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.weatherData.main.feels_like,"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Temp Min"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.weatherData.main.temp_min,"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Temp Max"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.weatherData.main.temp_max,"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Atmospheric Pressure"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.weatherData.main.pressure," hPa")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Humidity"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.weatherData.main.humidity,"%")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Atmospheric Pressure @ Sea Level"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.weatherData.main.sea_level," hPa")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Atmospheric Pressure @ Ground Level"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.weatherData.main.grnd_level," hPa")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Wind Speed"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.weatherData.wind.speed," m/s")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Wind Direction"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.weatherData.wind.deg,"\xb0")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Cloudiness"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.weatherData.clouds.all,"%"))):"Getting Satellite based Weather card..."),we.a.createElement(ot.a,null,this.props.satelliteInsights.satelliteImageryData?we.a.createElement(pt,{heading:"Crop Health",icon:we.a.createElement(yt.ne,null),subtitle:"".concat(new Date(1e3*this.props.satelliteInsights.satelliteImageryData[this.props.satelliteInsights.satelliteImageryData.length-1].dt).toLocaleString()," by ").concat(this.props.satelliteInsights.satelliteImageryData[this.props.satelliteInsights.satelliteImageryData.length-1].type)},we.a.createElement("div",{className:"card-body"},we.a.createElement("img",{width:"100%",src:"".concat(this.props.satelliteInsights.satelliteImageryData[this.props.satelliteInsights.satelliteImageryData.length-1].image.ndvi.replace("http://","https://")),alt:"satellite imagery"})),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Valid Data"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.satelliteImageryData[this.props.satelliteInsights.satelliteImageryData.length-1].dc,"%")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Cloudiness"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.satelliteImageryData[this.props.satelliteInsights.satelliteImageryData.length-1].cl,"%")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"NDVI"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.ndviStatsData.mean.toPrecision(2),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"anti-gradient_".concat(10*this.props.satelliteInsights.ndviStatsData.mean.toPrecision(1))})))),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"EVI"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.eviStatsData.mean.toPrecision(2),"\xa0\xa0",we.a.createElement("svg",{height:"10",width:"10"},we.a.createElement("circle",{cx:"50%",cy:"50%",r:"5",className:"anti-gradient_".concat(10*this.props.satelliteInsights.eviStatsData.mean.toPrecision(1))})))),we.a.createElement("div",{className:"bx--form__helper-text",style:{maxWidth:"100%"}},"This card may take a bit to update, please be patient.")):"Getting Satellite based Crop Health card...")),we.a.createElement("br",null),we.a.createElement(rt.a,null,we.a.createElement(ot.a,null,this.props.satelliteInsights.soilData?we.a.createElement(pt,{heading:"Soil Data",icon:we.a.createElement(vt.Rc,null),subtitle:new Date(1e3*this.props.satelliteInsights.soilData.dt).toLocaleString()},we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Surface Temp"),we.a.createElement("span",{className:"card-body-value"},(this.props.satelliteInsights.soilData.t0-273.15).toPrecision(4),"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Temp in 10cm depth"),we.a.createElement("span",{className:"card-body-value"},(this.props.satelliteInsights.soilData.t10-273.15).toPrecision(4),"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Moisture"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.soilData.moisture," m",we.a.createElement("sup",null,"3"),"/m",we.a.createElement("sup",null,"3")))):"Getting Satellite based Soil Data card..."),we.a.createElement(ot.a,null,this.props.satelliteInsights.uviData?we.a.createElement(pt,{heading:"UVI Data",icon:we.a.createElement(It.tb,null),subtitle:new Date(1e3*this.props.satelliteInsights.uviData.dt).toLocaleString()},we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"UV Index"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.uviData.uvi))):"Getting Satellite based UVI Data card...")),we.a.createElement("br",null),we.a.createElement(rt.a,null,we.a.createElement(ot.a,null,this.props.satelliteInsights.forecastWeatherData?we.a.createElement(pt,{heading:"Weather Forecast",icon:we.a.createElement("img",{src:"https://openweathermap.org/img/w/".concat(this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].weather[0].icon,".png"),alt:this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].icon}),subtitle:new Date(1e3*this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].dt).toLocaleString()},we.a.createElement("div",{className:"card-body"},we.a.createElement(ft.a,{id:"slider",inputType:"number",labelText:"Slide for changing data",max:40,min:1,step:1,onChange:this._onForecastWeatherSliderChange,value:this.state.forecastWeatherSlider})),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Temperature"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].main.temp,"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Feels like"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].main.feels_like,"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Temp Min"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].main.temp_min,"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Temp Max"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].main.temp_max,"\xb0C")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Atmospheric Pressure"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].main.pressure," hPa")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Humidity"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].main.humidity,"%")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Atmospheric Pressure @ Sea Level"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].main.sea_level," hPa")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Atmospheric Pressure @ Ground Level"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].main.grnd_level," hPa")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Wind Speed"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].wind.speed," m/s")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Wind Direction"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].wind.deg,"\xb0")),we.a.createElement("div",{className:"card-body"},we.a.createElement("strong",{className:"card-body-head"},"Cloudiness"),we.a.createElement("span",{className:"card-body-value"},this.props.satelliteInsights.forecastWeatherData[this.state.forecastWeatherSlider-1].clouds.all,"%"))):"Getting Satellite based Weather Forecast card..."))):we.a.createElement(we.a.Fragment,null))}}]),a}(we.a.Component),wt=Object(Ie.b)((function(e){return{user:e.user,fields:e.fields,satelliteInsights:e.satelliteInsights}}),(function(e){return{getSatelliteInsights:function(t){e({type:"SATELLITE_INSIGHTS_RETRIEVAL_REQUEST",input:{fieldResId:t}})}}}))(St),Nt=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(e){var r;return Object(Le.a)(this,a),(r=t.call(this,e)).state={selectedField:"",selectedTab:0},r._setEnvironment=Object(re.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.props.user){e.next=3;break}return e.next=3,r.props.getFields(r.props.user.email);case 3:case"end":return e.stop()}}),e)}))),r._handleContentChange=function(e){r.setState({selectedTab:e.index})},r._setEnvironment(),r}return Object(_e.a)(a,[{key:"render",value:function(){return we.a.createElement(we.a.Fragment,null,this.props.user?we.a.createElement(at.a,null,we.a.createElement(rt.a,null,we.a.createElement(nt.a,{selectedIndex:this.state.selectedTab,onChange:this._handleContentChange},we.a.createElement(st.a,{name:"satelliteInsights",text:"\xa0Satellite"}),we.a.createElement(st.a,{name:"agriBotInsights",text:"\xa0AgriBot"}))),we.a.createElement(at.a,null,0===this.state.selectedTab?we.a.createElement(wt,null):we.a.createElement(mt,null))):we.a.createElement("div",null,"You're not logged in"))}}]),a}(we.a.Component),Ot=Object(Ie.b)((function(e){return{user:e.user,fields:e.fields,busy:e.busy}}),(function(e){return{getFields:function(t){e(xe({email:t}))}}}))(Nt),Lt=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(){return Object(Le.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){return we.a.createElement("div",null,"Chat")}}]),a}(we.a.Component),_t=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(){return Object(Le.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){return we.a.createElement("div",null,"FAQ")}}]),a}(we.a.Component),Rt=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(){return Object(Le.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){return we.a.createElement("div",null,"Recovery")}}]),a}(we.a.Component),Tt=a(161),jt=a(159),xt=a(92),Ct=a.n(xt),Dt=a(72),kt=a.n(Dt),At=a(71),Ht=a.n(At),Ft=a(136),Bt=Tt.a.TableContainer,Ut=Tt.a.Table,Gt=Tt.a.TableHead,Pt=Tt.a.TableRow,Wt=Tt.a.TableBody,Vt=Tt.a.TableCell,Mt=Tt.a.TableHeader,$t=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(e){var r;return Object(Le.a)(this,a),(r=t.call(this,e)).state={selectedCrop:"FR01",fieldGeoJSON:{},fieldName:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},r._setEnvironment=function(){r.props.user&&(r.props.retrieveGeolocation(),r.props.retrieveCrops(r.props.user.email),r.props.retrieveFields(r.props.user.email))},r._handleChangeCropSelection=function(e){r.setState({selectedCrop:e.target.value})},r._handleAddCrop=Object(re.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.props.user){e.next=4;break}return t=Ft.filter((function(e){return e.cropId===r.state.selectedCrop})),e.next=4,r.props.addCrop(r.props.user.email,r.state.selectedCrop,t[0].name);case 4:case"end":return e.stop()}}),e)}))),r._handleAddField=Object(re.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.props.user){e.next=3;break}return e.next=3,r.props.addField(r.props.user.email,r.state.fieldGeoJSON);case 3:case"end":return e.stop()}}),e)}))),r.deleteField=function(){var e=Object(re.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.props.user){e.next=3;break}return e.next=3,r.props.removeField(r.props.user.email,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.deleteCrop=function(){var e=Object(re.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.props.user){e.next=3;break}return e.next=3,r.props.removeCrop(r.props.user.email,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.provider={osm:function(e,t,a){var r=String.fromCharCode(97+(e+t+a)%3);return"https://".concat(r,".tile.openstreetmap.org/").concat(a,"/").concat(e,"/").concat(t,".png")},wikimedia:function(e,t,a,r){return"https://maps.wikimedia.org/osm-intl/".concat(a,"/").concat(e,"/").concat(t).concat(r>=2?"@2x":"",".png")},stamen:function(e,t,a,r){return"https://stamen-tiles.a.ssl.fastly.net/terrain/".concat(a,"/").concat(e,"/").concat(t).concat(r>=2?"@2x":"",".jpg")}},r._handleMapBoundChange=function(e){var t=[e.bounds.ne[1],e.bounds.ne[0]],a=[e.bounds.sw[1],e.bounds.sw[0]],n=[a[0],t[1]],s=[t[0],a[1]],c={name:r.state.fieldName,geo_json:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[a,s,t,n,a]]}}]}};r.setState({fieldGeoJSON:c})},r._setEnvironment(),r}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return we.a.createElement(we.a.Fragment,null,this.props.user?we.a.createElement(at.a,null,we.a.createElement(rt.a,null,we.a.createElement("h2",{style:{width:"100%",textAlign:"center"}},"Fields Section")),we.a.createElement("br",null),we.a.createElement(rt.a,null,we.a.createElement(ot.a,{sm:4,lg:6,style:{textAlign:"center"}},we.a.createElement(Ct.a,{center:this.props.geolocation?this.props.geolocation:[21,73],animate:!0,zoom:12,height:300,onBoundsChanged:this._handleMapBoundChange,provider:this.provider.osm}),we.a.createElement("div",{className:"bx--form__helper-text",style:{maxWidth:"100%"}},"Zoom to your fields (1 Ha to 3000 Ha) and click on button below."),we.a.createElement(Ze.a,{renderIcon:Ht.a,onClick:this._handleAddField},"Add")),we.a.createElement(ot.a,{sm:4,lg:6},we.a.createElement(Bt,{title:"Your Fields"},we.a.createElement(Ut,null,we.a.createElement(Gt,null,we.a.createElement(Pt,null,we.a.createElement(Mt,{key:"fieldId"},"Field Id"),we.a.createElement(Mt,{key:"fieldLoc"},"Field Location"),we.a.createElement(Mt,{key:"delete"}))),we.a.createElement(Wt,null,this.props.fields?this.props.fields.length<1?we.a.createElement(Pt,{key:"no-fields"},we.a.createElement(Vt,{colspan:3},"No fields yet")):this.props.fields.map((function(t){var a=t.fieldResId.lastIndexOf(":"),r=t.fieldResId.substring(a+1),n=t.data.geo_json.features[0].geometry.coordinates[0][0],s=t.data.geo_json.features[0].geometry.coordinates[0][2];return we.a.createElement(Pt,{key:t.fieldResId},we.a.createElement(Vt,null,r),we.a.createElement(Vt,null,n[0]+"\n"+n[1]+"\n"+s[0]+"\n"+s[1]),we.a.createElement(Vt,null,we.a.createElement(Ze.a,{kind:"ghost",tabIndex:0,hasonlyicon:"true",renderIcon:kt.a,iconDescription:"Delete",onClick:function(){e.deleteField(r)}})))})):we.a.createElement(Pt,{key:"no-fields"},we.a.createElement(Vt,{colspan:3},"Receiving your fields..."))))))),we.a.createElement("br",null),we.a.createElement(rt.a,null,we.a.createElement("h2",{style:{width:"100%",textAlign:"center"}},"Crops Section")),we.a.createElement("br",null),we.a.createElement(rt.a,null,we.a.createElement(ot.a,{sm:4,lg:6},we.a.createElement(jt.a,null,we.a.createElement(ht.a,{id:"crop-selector",helperText:"Select crop to add",labelText:"Crop",inline:!1,defaultValue:this.state.selectedCrop,onChange:this._handleChangeCropSelection},Ft.map((function(e){return we.a.createElement(Et.a,{key:e.cropId,text:e.name,value:e.cropId})}))),we.a.createElement("br",null),we.a.createElement(Ze.a,{renderIcon:Ht.a,onClick:this._handleAddCrop},"Add"))),we.a.createElement(ot.a,{sm:4,lg:6},we.a.createElement(Bt,null,we.a.createElement(Ut,null,we.a.createElement(Gt,null,we.a.createElement(Pt,null,we.a.createElement(Mt,{key:"cropId"},"Crop Id"),we.a.createElement(Mt,{key:"cropName"},"Crop Name"),we.a.createElement(Mt,{key:"delete"}))),we.a.createElement(Wt,null,this.props.crops?this.props.crops.length<1?we.a.createElement(Pt,{key:"no-crops"},we.a.createElement(Vt,{colspan:3},"No crops yet")):this.props.crops.map((function(t){return we.a.createElement(Pt,{key:t.cropId},we.a.createElement(Vt,null,t.cropId),we.a.createElement(Vt,null,t.name),we.a.createElement(Vt,null,we.a.createElement(Ze.a,{kind:"ghost",tabIndex:0,hasonlyicon:"true",renderIcon:kt.a,iconDescription:"Delete",onClick:function(){e.deleteCrop(t.cropId)}})))})):we.a.createElement(Pt,{key:"no-crops"},we.a.createElement(Vt,{colspan:3},"Receiving your crops...")))))))):we.a.createElement("div",null,"You're not logged in"))}}]),a}(we.a.Component),Qt=Object(Ie.b)((function(e){return{user:e.user,fields:e.fields,crops:e.crops,busy:e.busy,geolocation:e.geolocation}}),(function(e){return{addCrop:function(t,a,r){e({type:"ADD_CROP_REQUEST",input:{owner:t,cropId:a,name:r}})},removeCrop:function(t,a){e({type:"DELETE_CROP_REQUEST",input:{owner:t,cropId:a}})},addField:function(t,a){e({type:"ADD_FIELD_REQUEST",input:{owner:t,data:a}})},removeField:function(t,a){e({type:"DELETE_FIELD_REQUEST",input:{owner:t,fieldId:a}})},retrieveCrops:function(t){e({type:"CROPS_RETRIEVAL_REQUEST",input:{email:t}})},retrieveFields:function(t){e(xe({email:t}))},retrieveGeolocation:function(){e({type:"GEOLOCATION_RETRIEVAL_REQUEST"})}}}))($t),qt=a(65),Kt=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(){return Object(Le.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){return we.a.createElement(qt.Grid,null,we.a.createElement(qt.Row,null,we.a.createElement(qt.Column,null,this.props.children)))}}]),a}(we.a.Component),Jt=(a(141),a(32)),Yt=a(160),zt=function(e){Object(Re.a)(a,e);var t=Object(Te.a)(a);function a(){return Object(Le.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){return we.a.createElement(we.a.Fragment,null,we.a.createElement(Yt.a,{active:!0===this.props.busy||!0===this.props.satelliteBusy||!0===this.props.agriBotBusy,description:"Working on it, please wait...",withOverlay:!0,small:!1}),we.a.createElement(Xe,null,we.a.createElement(je.a,null,we.a.createElement(Kt,null,we.a.createElement(Jt.a,{exact:!0,path:"/",render:function(){return we.a.createElement(tt,null)}}),we.a.createElement(Jt.a,{exact:!0,path:"/home",render:function(){return we.a.createElement(tt,null)}}),we.a.createElement(Jt.a,{path:"/dashboard",render:function(){return we.a.createElement(Ot,null)}}),we.a.createElement(Jt.a,{path:"/chat",render:function(){return we.a.createElement(Lt,null)}}),we.a.createElement(Jt.a,{path:"/faq",render:function(){return we.a.createElement(_t,null)}}),we.a.createElement(Jt.a,{path:"/recovery",render:function(){return we.a.createElement(Rt,null)}}),we.a.createElement(Jt.a,{path:"/configure",render:function(){return we.a.createElement(Qt,null)}})))))}}]),a}(we.a.Component);var Xt=Object(Ie.b)((function(e){return{busy:e.busy,satelliteBusy:e.satelliteBusy,agriBotBusy:e.agriBotBusy}}))(zt),Zt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ea(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}ve.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("projectkisaanstate",t)}catch(a){console.log(a)}}(ve.getState())})),Oe.a.render(we.a.createElement(Ie.a,{store:ve},we.a.createElement(Xt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/project-kisaan-react-ui",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/project-kisaan-react-ui","/service-worker.js");Zt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ea(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ea(t,e)}))}}()},96:function(e,t,a){e.exports=a(142)}},[[96,1,2]]]);
//# sourceMappingURL=main.d29b524e.chunk.js.map